{"version":3,"sources":["context/AuthContext.ts","hooks/auth.hook.js.ts","components/Loader/Loader.tsx","assets/images/logo.png","components/Logo/Logo.tsx","containers/Sidebar/Sidebar.tsx","containers/Header/Header.tsx","layouts/MainLayout/MainLayout.tsx","components/CardMetric/CardMetric.tsx","store/CornStore.ts","components/CornStatic.tsx","pages/DashboardPage.tsx","hooks/http.hook.ts","hooks/message.hook.ts","pages/AuthPage.tsx","components/DatePicker.tsx","components/AddPoisons/AddPoisons.tsx","components/PoisonsTable.tsx","pages/PoisonsPage.tsx","components/AddCorn.tsx","layouts/Modals.tsx","modals/EditCorn.tsx","components/CornTableItem.tsx","components/CornTable.tsx","pages/CornPage.tsx","hooks/request/corn.hook.ts","components/AddSale.tsx","components/SaleTable.tsx","pages/SalePage.tsx","App.tsx","routes.tsx","reportWebVitals.ts","index.tsx","components/Logo/Logo.module.scss","layouts/MainLayout/MainLayout.module.scss","containers/Sidebar/Sidebar.module.scss"],"names":["noop","AuthContext","createContext","token","userId","login","logout","isAuthenticated","storageName","useAuth","useState","setToken","ready","setReady","setUserId","useCallback","jwtToken","id","localStorage","setItem","JSON","stringify","removeItem","useEffect","local","getItem","data","parse","Loader","className","Logo","title","style","wrapper","to","src","logo","alt","Sidebar","isShow","classes","close","join","Header","setIsShow","auth","useContext","onClick","cursor","fontSize","href","MainLayout","children","CardMetric","text","col","allCorn","allPoisons","allSale","getAllName","map","item","name","getAllWeight","weight","getAllColor","index","color","makeAutoObservable","this","CornStatic","observer","CornStore","length","labels","datasets","backgroundColor","borderColor","borderWidth","DashboardPage","label","options","scales","yAxes","stacked","ticks","beginAtZero","xAxes","fill","useHttp","loading","setLoading","error","setError","request","url","a","method","body","headers","fetch","response","json","ok","Error","message","clearError","useMessage","window","M","toast","html","AuthPage","email","password","form","setForm","changeHandler","event","target","value","registerHandler","loginHandler","type","onChange","htmlFor","disabled","DatePicker","format","formik","autoClose","onSelect","setFieldValue","dateRef","useRef","Datepicker","init","current","ref","AddPoisons","fetchPoisons","poisonsFormik","useFormik","initialValues","cost","date","onSubmit","values","addHandler","resetForm","Authorization","poison","runInAction","handleSubmit","handleChange","PoisonsTable","sortBy","sort","b","console","log","toJS","sum","Date","toLocaleDateString","_id","PoisonsPage","fetched","isShowForm","setIsShowForm","AddCorn","cornFormik","corn","Modals","textLink","modalTitle","textCloseBtn","modalRef","btnCloseRef","inDuration","outDuration","opacity","dismissible","startingTop","endingTop","instance","Modal","getInstance","btn","click","EditCorn","iconEdit","showMessage","editHandler","defaultValue","CornTableItem","deleteHandler","confirm","splice","CornTable","CornPage","useHttpCorn","loadingCorn","fetchCorn","AddSale","saleFormik","sale","select","selectRef","FormSelect","selected","SaleTable","SalePage","fetchSale","App","routes","exact","path","component","useRoutes","Provider","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.abe11d37.chunk.js","sourcesContent":["import {createContext} from 'react'\r\n\r\nfunction noop() {}\r\n\r\ntype TypeContext = {\r\n    token: null | string\r\n    userId: null | string\r\n    login: (jwtToken: string, id: string) => void\r\n    logout: () => void\r\n    isAuthenticated: boolean\r\n}\r\n\r\nexport const AuthContext = createContext({\r\n    token: null,\r\n    userId: null,\r\n    login: noop,\r\n    logout: noop,\r\n    isAuthenticated: false\r\n} as TypeContext)\r\n","import {useCallback, useEffect, useState} from 'react'\r\n\r\nconst storageName: string = 'userData'\r\n\r\ntype StorageType = {\r\n    userId: string | null\r\n    token: string | null\r\n}\r\n\r\nexport const useAuth = () => {\r\n    const [token, setToken] = useState<null | string>(null)\r\n    const [ready, setReady] = useState<boolean>(false)\r\n    const [userId, setUserId] = useState<null | string>(null)\r\n\r\n    const login = useCallback((jwtToken: string, id: string) => {\r\n        setToken(jwtToken)\r\n        setUserId(id)\r\n        localStorage.setItem(storageName, JSON.stringify({\r\n            userId: id, token: jwtToken\r\n        } as StorageType))\r\n    }, [])\r\n    const logout = useCallback(() => {\r\n        setToken(null)\r\n        setUserId(null)\r\n        localStorage.removeItem(storageName)\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        const local = localStorage.getItem(storageName) || '{}'\r\n        const data = JSON.parse(local)\r\n        if (data && data.token) {\r\n            const data = JSON.parse(local)\r\n            login(data.token, data.userId)\r\n        }\r\n        setReady(true)\r\n    }, [login])\r\n\r\n    return {login, logout, token, userId, ready}\r\n}\r\n","import React from 'react'\r\n\r\nexport const Loader = () => {\r\n    return(\r\n        <div className=\"preloader-wrapper big active\">\r\n            <div className=\"spinner-layer spinner-blue\">\r\n                <div className=\"circle-clipper left\">\r\n                    <div className=\"circle\"></div>\r\n                </div>\r\n                <div className=\"gap-patch\">\r\n                    <div className=\"circle\"></div>\r\n                </div>\r\n                <div className=\"circle-clipper right\">\r\n                    <div className=\"circle\"></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/logo.863bdabf.png\";","import React from 'react'\nimport logo from '../../assets/images/logo.png'\nimport style from './Logo.module.scss'\nimport {Link} from 'react-router-dom'\n\nexport const Logo = () => {\n    const title = 'КФХ Кузьмин'\n    return (\n        <div className={style.wrapper}>\n            <Link to={'/'}>\n                <img src={logo} alt={title} className={style.logo}/>\n            </Link>\n            <span className={style.title}>{title}</span>\n        </div>\n    )\n}\n","import React, {FC} from 'react'\nimport style from './Sidebar.module.scss'\nimport {Logo} from '../../components/Logo/Logo'\n\ntype MyProps = {\n    isShow: boolean\n}\n\nexport const Sidebar:FC<MyProps> = ({isShow}) => {\n    const classes = [style.wrapper, isShow ? '' : style.close]\n    return (\n        <div className={`${classes.join(' ')} light-blue lighten-5`}>\n            <Logo/>\n        </div>\n    )\n}\n","import React, {FC, useContext} from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport {AuthContext} from '../../context/AuthContext'\r\n\r\ntype MyProps = {\r\n    isShow: boolean,\r\n    setIsShow: (value: boolean) => void\r\n}\r\nexport const Header: FC<MyProps> = ({isShow, setIsShow}) => {\r\n    const styleMenu = {\r\n        cursor: 'pointer',\r\n        fontSize: 32\r\n    }\r\n    const auth = useContext(AuthContext)\r\n    return (\r\n        <div>\r\n            <nav className='light-blue lighten-5 black-text'>\r\n                <div className=\"nav-wrapper\">\r\n                    <ul className=\"left hide-on-med-and-down\">\r\n                        <li><span onClick={() => setIsShow(!isShow)}><i className=\"material-icons\"\r\n                                                                        style={styleMenu}>menu</i></span></li>\r\n                    </ul>\r\n                    <ul className='right hide-on-med-and-down'>\r\n                        <li>\r\n                            <a href='#!' className='black-text' onClick={() => auth.logout()}>Выйти</a>\r\n                        </li>\r\n                        <li>\r\n                            <Link className='black-text' to='/add-corn'>Зерно</Link>\r\n                        </li>\r\n                        <li>\r\n                            <Link className='black-text' to='/poisons'>Яды</Link>\r\n                        </li>\r\n                        <li>\r\n                            <Link className='black-text' to='/add-sale'>Продажи</Link>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n            </nav>\r\n        </div>\r\n\r\n\r\n    )\r\n}\r\n","import React, {FC, useState} from 'react'\r\nimport style from './MainLayout.module.scss'\r\nimport {Sidebar} from '../../containers/Sidebar/Sidebar'\r\nimport {Header} from '../../containers/Header/Header'\r\n\r\ntype TypeChildren = {\r\n    children: React.ReactNode\r\n}\r\nexport const MainLayout: FC<TypeChildren> = ({children}) => {\r\n    const [isShow, setIsShow] = useState<boolean>(false)\r\n    const classes = [style.wrapper, isShow ? '' : style.close]\r\n    return (\r\n        <div className={classes.join(' ')}>\r\n            <Sidebar\r\n                isShow={isShow}\r\n            />\r\n            <div>\r\n                <Header\r\n                    isShow={isShow}\r\n                    setIsShow={setIsShow}\r\n                />\r\n                <div className='container'>\r\n                    {children}\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n","import React, {FC} from 'react'\r\n\r\ntype TypeMyProps = {\r\n    text: string | null\r\n    col: number\r\n}\r\nexport const CardMetric:FC<TypeMyProps> = ({text, col, children}) => {\r\n    return (\r\n        <div className={`col s${col}`}>\r\n            <div className=\"card\">\r\n                <div className=\"card-image\">\r\n                    {children}\r\n                </div>\r\n                <div className=\"card-content\">\r\n                    {text && <p>{text}</p>}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import {makeAutoObservable} from 'mobx'\r\nimport {TypeCorn, TypePoisons, TypeSale} from '../types/types'\r\n\r\nclass CornStore {\r\n\r\n    allCorn:TypeCorn[] | [] = []\r\n    allPoisons: TypePoisons[] | [] = []\r\n    allSale: TypeSale[] | [] = []\r\n\r\n\r\n    constructor() {\r\n        makeAutoObservable(this)\r\n    }\r\n\r\n    getAllName = () => {\r\n        const result: Array<string> = this.allCorn.map(item => {\r\n            return item.name\r\n        })\r\n        return result\r\n    }\r\n\r\n    getAllWeight = () => {\r\n        const result: Array<number> = this.allCorn.map(item => {\r\n            return item.weight\r\n        })\r\n        return result\r\n    }\r\n\r\n    getAllColor = (index: number) => {\r\n        const result: Array<string> = this.allCorn.map(item => {\r\n            return item.color[index]\r\n        })\r\n        return result\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default new CornStore()\r\n","import React from 'react'\r\nimport {Pie} from 'react-chartjs-2/dist'\r\nimport {CardMetric} from './CardMetric/CardMetric'\r\nimport CornStore from '../store/CornStore'\r\nimport {observer} from 'mobx-react'\r\nimport {Link} from 'react-router-dom'\r\n\r\nexport const CornStatic = observer(() => {\r\n    const data = CornStore.allCorn.length ? {\r\n        labels: CornStore.getAllName(),\r\n        datasets: [\r\n            {\r\n                data: CornStore.getAllWeight(),\r\n                backgroundColor: CornStore.getAllColor(0),\r\n                borderColor: CornStore.getAllColor(1),\r\n                borderWidth: 1,\r\n            },\r\n        ],\r\n    } : {}\r\n    return (\r\n        <CardMetric\r\n            text={'Общее количество зерна'}\r\n            col={3}\r\n        >\r\n            {CornStore.allCorn.length ? (\r\n                <Pie\r\n                    data={data}\r\n                />\r\n            ) : (\r\n                <>\r\n                    <p>Для начала заполните данные</p>\r\n                    <Link to='/add-corn'>Заполнить</Link>\r\n                </>\r\n            )}\r\n\r\n        </CardMetric>\r\n    )\r\n})\r\n","import React from 'react'\r\nimport {MainLayout} from '../layouts/MainLayout/MainLayout'\r\nimport {CardMetric} from '../components/CardMetric/CardMetric'\r\nimport {Bar, Line} from 'react-chartjs-2/dist'\r\nimport {observer} from 'mobx-react'\r\nimport {CornStatic} from '../components/CornStatic'\r\n\r\nexport const DashboardPage = observer(() => {\r\n\r\n\r\n    const allSale = {\r\n        labels: ['Январь', 'Февраль', 'Март', 'Апрель', 'Май', 'Июнь', 'Июль', 'Август', 'Сентябрь', 'Октрябрь','Ноябрь', 'Декабрь'],\r\n        datasets: [\r\n            {\r\n                label: 'Рожь',\r\n                data: [5, 19, 3, 5, 2, 3, 5, 9, 4, 6, 7, 15],\r\n                backgroundColor: 'rgba(255, 99, 132, 1)',\r\n            },\r\n            {\r\n                label: 'Пшеница',\r\n                data: [8, 15, 7, 5, 2, 5, 7, 9, 4, 6, 6, 10],\r\n                backgroundColor: 'rgba(54, 162, 235, 1)',\r\n            },\r\n            {\r\n                label: 'Ячмень',\r\n                data: [4, 11, 3, 5, 2, 4, 6, 9, 4, 7, 7, 11],\r\n                backgroundColor: 'rgba(255, 206, 86, 1)',\r\n            },\r\n        ],\r\n    };\r\n\r\n    const optionsAllSale = {\r\n        scales: {\r\n            yAxes: [\r\n                {\r\n                    stacked: true,\r\n                    ticks: {\r\n                        beginAtZero: true,\r\n                    },\r\n                },\r\n            ],\r\n            xAxes: [\r\n                {\r\n                    stacked: true,\r\n                },\r\n            ],\r\n        },\r\n    };\r\n\r\n    const harvesting = {\r\n        labels: ['Июнь', 'Июль', 'Август'],\r\n        datasets: [\r\n            {\r\n                label: 'ГА',\r\n                data: [200, 300, 250],\r\n                fill: false,\r\n                backgroundColor: 'rgb(255, 99, 132)',\r\n                borderColor: 'rgba(255, 99, 132, 0.2)',\r\n            },\r\n        ],\r\n    };\r\n\r\n    const optionsHarvesting = {\r\n        scales: {\r\n            yAxes: [\r\n                {\r\n                    ticks: {\r\n                        beginAtZero: true,\r\n                    },\r\n                },\r\n            ],\r\n        },\r\n    };\r\n\r\n    return (\r\n        <MainLayout>\r\n            <h2>Панель приборов</h2>\r\n            <div className='row'>\r\n                <CornStatic/>\r\n                <CardMetric\r\n                    text={'Продажи по месяцам'}\r\n                    col={6}\r\n                >\r\n                    <Bar\r\n                        data={allSale}\r\n                        options={optionsAllSale}\r\n                    />\r\n                </CardMetric>\r\n                <CardMetric text={'Уборка ГА за месяц'} col={3}>\r\n                    <Line data={harvesting} options={optionsHarvesting} />\r\n                </CardMetric>\r\n            </div>\r\n        </MainLayout>\r\n    )\r\n})\r\n","import {useCallback, useState} from 'react'\r\n\r\nexport const useHttp = () => {\r\n    const [loading, setLoading] = useState<boolean>(false)\r\n    const [error, setError] = useState<boolean | null>(null)\r\n\r\n    const request = useCallback(async (url: string, method: string = 'GET', body = null, headers: any = {}) => {\r\n        setLoading(true)\r\n        try {\r\n            if (body) {\r\n                body = JSON.stringify(body)\r\n                headers['Content-Type'] = 'application/json'\r\n            }\r\n\r\n            const response = await fetch(url, {method, body, headers})\r\n            const data = await response.json()\r\n\r\n            if (!response.ok) {\r\n                throw new Error(data.message || 'Что-то пошло не так')\r\n            }\r\n            setLoading(false)\r\n            return data\r\n        } catch (e) {\r\n            setLoading(false)\r\n            setError(e.message)\r\n            throw e\r\n        }\r\n    }, [])\r\n\r\n    const clearError = useCallback(() => setError(null), [])\r\n\r\n    return {loading, request, error, clearError}\r\n}\r\n","import {useCallback} from 'react'\r\n\r\nexport const useMessage = () => {\r\n    return useCallback(text => {\r\n        // @ts-ignore\r\n        if (window.M && text) {\r\n            // @ts-ignore\r\n            window.M.toast({html: text})\r\n        }\r\n    }, [])\r\n}\r\n","import React, {useContext, useEffect, useState} from 'react'\r\nimport {useHttp} from \"../hooks/http.hook\";\r\nimport {AuthContext} from \"../context/AuthContext\";\r\nimport {useMessage} from '../hooks/message.hook'\r\n\r\ntype FormType = {\r\n    email: string\r\n    password: string\r\n}\r\n\r\nexport const AuthPage = () => {\r\n    const [form, setForm] = useState<FormType>({\r\n        email: '',\r\n        password: ''\r\n    })\r\n\r\n    const message = useMessage()\r\n\r\n    const changeHandler = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        setForm({...form, [event.target.name]: event.target.value})\r\n    }\r\n    const auth = useContext(AuthContext)\r\n    const {loading, request, error, clearError} = useHttp()\r\n    const registerHandler = async () => {\r\n        try {\r\n            const data = await request('/api/auth/register', 'POST', {...form})\r\n            message(data.message)\r\n        } catch (e) {\r\n\r\n        }\r\n    }\r\n\r\n    const loginHandler = async () => {\r\n        try {\r\n            const data = await request('/api/auth/login', 'POST', {...form})\r\n            auth.login(data.token, data.userId)\r\n        } catch (e) {\r\n\r\n        }\r\n    }\r\n    useEffect(() => {\r\n        message(error)\r\n        clearError()\r\n    }, [error, message, clearError])\r\n    return (\r\n        <div className=\"container\">\r\n            <div className=\"row\">\r\n                <div className=\"row\">\r\n                    <div className=\"input-field col s12\">\r\n                        <input type=\"email\" className=\"validate\" name='email' onChange={event => changeHandler(event)}/>\r\n                        <label htmlFor=\"email\">Email</label>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                    <div className=\"input-field col s12\">\r\n                        <input type=\"password\" name='password' className=\"validate\"\r\n                               onChange={event => changeHandler(event)}/>\r\n                        <label htmlFor=\"password\">Password</label>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <button onClick={registerHandler} disabled={loading}>Зарегистрироваться</button>\r\n            <button onClick={loginHandler} disabled={loading}>Авторизироватсья</button>\r\n        </div>\r\n    )\r\n}\r\n","import React, {FC, useEffect, useRef} from 'react'\r\n\r\ntype MyProps = {\r\n    format?: string,\r\n    formik: any,\r\n    label?: string\r\n}\r\n\r\nexport const DatePicker:FC<MyProps> = ({format = 'yyyy-mm-dd', formik, label = 'Дата'}) => {\r\n    const options = {\r\n        autoClose: true,\r\n        format: format,\r\n        onSelect: (value:string) => formik.setFieldValue('date', value, true)\r\n    }\r\n    // FIXME заменить any\r\n    const dateRef = useRef<any>()\r\n    useEffect(() => {\r\n        (window as any).M.Datepicker.init(dateRef.current, options)\r\n        // eslint-disable-next-line\r\n    }, [dateRef.current])\r\n    return (\r\n        <>\r\n            <input type=\"text\" ref={dateRef} className=\"datepicker\" name='date'/>\r\n            <label htmlFor=\"password\">Дата</label>\r\n        </>\r\n    )\r\n}\r\n","import React, {FC, useContext} from 'react'\r\nimport {useHttp} from '../../hooks/http.hook'\r\nimport {AuthContext} from '../../context/AuthContext'\r\nimport {useFormik} from 'formik'\r\nimport {Loader} from '../Loader/Loader'\r\nimport {useMessage} from '../../hooks/message.hook'\r\nimport CornStore from '../../store/CornStore'\r\nimport {DatePicker} from '../DatePicker'\r\nimport {runInAction} from 'mobx'\r\n\r\ntype TypeForm = {\r\n    name: string\r\n    weight: number\r\n    cost: number\r\n    date: Date | null\r\n}\r\n\r\ntype MyProps = {\r\n    fetchPoisons: () => void\r\n}\r\n\r\nexport const AddPoisons: FC<MyProps> = ({fetchPoisons}) => {\r\n    const message = useMessage()\r\n    const poisonsFormik = useFormik<TypeForm>({\r\n        initialValues: {\r\n            name: '',\r\n            weight: 0,\r\n            cost: 0,\r\n            date: null\r\n        },\r\n        onSubmit: async (values) => {\r\n            await addHandler(values)\r\n            poisonsFormik.resetForm()\r\n        }\r\n    })\r\n    const auth = useContext(AuthContext)\r\n    const {loading, request} = useHttp()\r\n    const addHandler = async (values: TypeForm) => {\r\n        try {\r\n            const data = await request('/api/poisons/add', 'POST', {...values}, {\r\n                Authorization: `Bearer: ${auth.token}`\r\n            })\r\n            const {poison} = data\r\n            runInAction(() => {\r\n                CornStore.allPoisons = [...CornStore.allPoisons, ...[poison]]\r\n            })\r\n            message('Добавлено')\r\n        } catch (e) {\r\n\r\n        }\r\n    }\r\n    if (loading) {\r\n        return <Loader/>\r\n    }\r\n    return (\r\n        <form onSubmit={poisonsFormik.handleSubmit}>\r\n            <div className=\"row\">\r\n                <div className=\"col s12\">\r\n                    <div className=\"row\">\r\n                        <div className=\"input-field col s12\">\r\n                            <input className='validate' onChange={poisonsFormik.handleChange} name='name' type=\"text\"/>\r\n                            <label htmlFor=\"password\">Название яда</label>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"row s12\">\r\n                        <div className=\"input-field col s4\">\r\n                            <input className='validate' onChange={poisonsFormik.handleChange} name='weight'\r\n                                   type=\"number\"/>\r\n                            <label htmlFor=\"password\">Объем(кг)</label>\r\n                        </div>\r\n\r\n                        <div className=\"input-field col s4\">\r\n                            <input className='validate' onChange={poisonsFormik.handleChange} name='cost'\r\n                                   type=\"number\"/>\r\n                            <label htmlFor=\"password\">Цена(руб)</label>\r\n                        </div>\r\n\r\n                        <div className=\"input-field col s4\">\r\n                            <DatePicker\r\n                                formik={poisonsFormik}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <button type='submit' className=\"btn waves-effect waves-light\">Добавить\r\n                    <i className=\"material-icons right\">send</i>\r\n                </button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport CornStore from '../store/CornStore'\r\nimport {observer} from 'mobx-react'\r\nimport {runInAction, toJS} from 'mobx'\r\n\r\n\r\nexport const PoisonsTable = observer(() => {\r\n    // FIXME подумать над дублированием и убрать any\r\n    const sortBy = (name: string) => {\r\n        runInAction(() => {\r\n            CornStore.allPoisons.sort((a:any, b:any) => a[name] < b[name] ? 1 : -1)\r\n        })\r\n    }\r\n    const sortByName = () => {\r\n        console.log(toJS(CornStore.allPoisons))\r\n        runInAction(() => {\r\n            CornStore.allPoisons.sort((a:any,b:any) => (a.name > b.name) ? 1 : ((b.name > a.name) ? -1 : 0))\r\n        })\r\n    }\r\n    if (!CornStore.allPoisons.length) {\r\n        return (\r\n            <p>Пусто</p>\r\n        )\r\n    }\r\n    return (\r\n        <table>\r\n            <thead>\r\n            <tr>\r\n                <th onClick={sortByName}>Название</th>\r\n                <th onClick={() => sortBy('weight')}>Объем(кг)</th>\r\n                <th onClick={() => sortBy('cost')}>Цена(руб)</th>\r\n                <th onClick={() => sortBy('sum')}>Стоимость(кг/р)</th>\r\n                <th onClick={() => sortBy('date')}>Дата</th>\r\n            </tr>\r\n            </thead>\r\n\r\n            <tbody>\r\n            {\r\n                CornStore.allPoisons.map((item, index) => {\r\n                    return (\r\n                        <tr key={item._id}>\r\n                            <td>{item.name}</td>\r\n                            <td>{item.weight}</td>\r\n                            <td>{item.cost}</td>\r\n                            <td>{item.sum}</td>\r\n                            <td>{new Date(item.date).toLocaleDateString()}</td>\r\n                        </tr>\r\n                    )\r\n                })\r\n            }\r\n            </tbody>\r\n        </table>\r\n    )\r\n})\r\n","import React, {useCallback, useContext, useEffect, useState} from 'react'\r\nimport {MainLayout} from '../layouts/MainLayout/MainLayout'\r\nimport {useHttp} from '../hooks/http.hook'\r\nimport {AuthContext} from '../context/AuthContext'\r\nimport {Loader} from '../components/Loader/Loader'\r\nimport {AddPoisons} from '../components/AddPoisons/AddPoisons'\r\nimport {PoisonsTable} from '../components/PoisonsTable'\r\nimport {TypePoisons} from '../types/types'\r\nimport CornStore from '../store/CornStore'\r\nimport {observer} from 'mobx-react'\r\nimport {runInAction} from 'mobx'\r\n\r\n\r\nexport const PoisonsPage = observer(() => {\r\n    const {loading, request} = useHttp()\r\n    const {token} = useContext(AuthContext)\r\n    const fetchPoisons = useCallback(async () => {\r\n        try {\r\n            const fetched: TypePoisons[] = await request('api/poisons/getList', 'GET', null, {\r\n                Authorization: `Bearer ${token}`\r\n            })\r\n            runInAction(() => {\r\n                CornStore.allPoisons = fetched\r\n            })\r\n        } catch (e) {\r\n        }\r\n    }, [token, request])\r\n\r\n    useEffect(() => {\r\n        fetchPoisons()\r\n    }, [fetchPoisons])\r\n\r\n    const [isShowForm, setIsShowForm] = useState<boolean>(false)\r\n\r\n    if (loading) {\r\n        return <Loader/>\r\n    }\r\n    return (\r\n        <MainLayout>\r\n            <div className=\"waves-effect waves-light btn\" onClick={() => setIsShowForm(!isShowForm)}>Добавить яд</div>\r\n            {isShowForm && <AddPoisons\r\n                fetchPoisons={fetchPoisons}\r\n            />}\r\n            <PoisonsTable/>\r\n        </MainLayout>\r\n    )\r\n})\r\n","import React, {useContext} from 'react'\r\nimport {useFormik} from 'formik'\r\nimport {AuthContext} from '../context/AuthContext'\r\nimport {useHttp} from '../hooks/http.hook'\r\nimport {Loader} from './Loader/Loader'\r\nimport {useMessage} from '../hooks/message.hook'\r\nimport CornStore from '../store/CornStore'\r\nimport {runInAction} from 'mobx'\r\n\r\ntype TypeForm = {\r\n    name: string\r\n    weight: number\r\n    cost: number\r\n}\r\n\r\nexport const AddCorn = () => {\r\n    const message = useMessage()\r\n    const cornFormik = useFormik<TypeForm>({\r\n        initialValues: {\r\n            name: '',\r\n            weight: 0,\r\n            cost: 0\r\n        },\r\n        onSubmit: async (values) => {\r\n            console.log(values)\r\n            addHandler(values)\r\n\r\n        }\r\n    })\r\n    const auth = useContext(AuthContext)\r\n    const {loading, request} = useHttp()\r\n    const addHandler = async (values: TypeForm) => {\r\n        try {\r\n            const data = await request('/api/corn/addCorn', 'POST', {...values}, {\r\n                Authorization: `Bearer: ${auth.token}`\r\n            })\r\n            const {corn} = data\r\n            runInAction(() => {\r\n                CornStore.allCorn = [...CornStore.allCorn, ...[corn]]\r\n            })\r\n            message('Добавлено')\r\n        } catch (e) {\r\n\r\n        }\r\n    }\r\n    if (loading) {\r\n        return <Loader/>\r\n    }\r\n    return(\r\n        <form onSubmit={cornFormik.handleSubmit}>\r\n            <div className=\"row\">\r\n                <div className=\"col s12\">\r\n                    <div className=\"row\">\r\n                        <div className=\"input-field col s12\">\r\n                            <input className='validate' onChange={cornFormik.handleChange} name='name' type=\"text\"/>\r\n                            <label htmlFor=\"password\">Название зерна</label>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"row s12\">\r\n                        <div className=\"input-field col s6\">\r\n                            <input className='validate' onChange={cornFormik.handleChange} name='weight'\r\n                                   type=\"number\"/>\r\n                            <label htmlFor=\"password\">Объем</label>\r\n                        </div>\r\n\r\n                        <div className=\"input-field col s6\">\r\n                            <input className='validate' onChange={cornFormik.handleChange} name='cost' type=\"number\"/>\r\n                            <label htmlFor=\"password\">Стоимость</label>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <button type='submit' className=\"btn waves-effect waves-light\">Добавить\r\n                    <i className=\"material-icons right\">send</i>\r\n                </button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n","import React, {FC, useEffect, useRef} from 'react'\r\nimport CornStore from '../store/CornStore'\r\n\r\ntype MyProps = {\r\n    textLink: string | JSX.Element\r\n    id: string\r\n    modalTitle: string\r\n    textCloseBtn?: string\r\n}\r\n\r\nexport const Modals: FC<MyProps> = ({textLink, id, modalTitle, textCloseBtn = 'Закрыть', children}) => {\r\n    const modalRef = useRef<any>()\r\n    const btnCloseRef = useRef<any>()\r\n    const options = {\r\n        inDuration: 250,\r\n        outDuration: 250,\r\n        opacity: 0.5,\r\n        dismissible: false,\r\n        startingTop: '4%',\r\n        endingTop: '10%',\r\n    }\r\n    useEffect(() => {\r\n        const instance = (window as any).M.Modal.getInstance(modalRef.current)\r\n        if (instance) {\r\n            instance.close()\r\n        }\r\n        (window as any).M.Modal.init(modalRef.current, options)\r\n        // eslint-disable-next-line\r\n    }, [CornStore.allCorn])\r\n\r\n    useEffect(() => {\r\n        const btn = btnCloseRef.current\r\n        return () => {\r\n            btn.click()\r\n        }\r\n    }, [])\r\n    return (\r\n        <>\r\n            <span className=\"waves-effect waves-light btn modal-trigger\" data-target={id}>{textLink}</span>\r\n            <div className=\"modal\" id={id} ref={modalRef}>\r\n                <div className=\"modal-content\">\r\n                    <h4>{modalTitle}</h4>\r\n                    {children}\r\n                </div>\r\n                <div className=\"modal-footer\">\r\n                    <span className=\"modal-close waves-effect waves-green btn-flat\" ref={btnCloseRef}>{textCloseBtn}</span>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n","import React, {FC, useContext} from 'react'\r\nimport {Modals} from '../layouts/Modals'\r\nimport {useMessage} from '../hooks/message.hook'\r\nimport {useFormik} from 'formik'\r\nimport {AuthContext} from '../context/AuthContext'\r\nimport {useHttp} from '../hooks/http.hook'\r\nimport {Loader} from '../components/Loader/Loader'\r\nimport {runInAction} from 'mobx'\r\nimport CornStore from '../store/CornStore'\r\n\r\ntype MyProps = {\r\n    _id: string\r\n    name: string\r\n    weight: number\r\n    cost: number\r\n    id: string\r\n    index: number\r\n}\r\n\r\ntype TypeForm = {\r\n    name: string\r\n    weight: number\r\n    cost: number\r\n    _id?: string\r\n}\r\n\r\nexport const EditCorn: FC<MyProps> = ({_id, name, weight, cost, id, index}) => {\r\n    const iconEdit = (<i className=\"material-icons\">edit</i>)\r\n\r\n    const showMessage = useMessage()\r\n    const cornFormik = useFormik<TypeForm>({\r\n        initialValues: {\r\n            name,\r\n            weight,\r\n            cost\r\n        },\r\n        onSubmit: async (values) => {\r\n            await editHandler(values)\r\n        }\r\n    })\r\n    const auth = useContext(AuthContext)\r\n    const {loading, request} = useHttp()\r\n    const editHandler = async (values: TypeForm) => {\r\n        try {\r\n            values._id = _id\r\n            const data = await request('/api/corn/edit', 'POST', {...values}, {\r\n                Authorization: `Bearer: ${auth.token}`\r\n            })\r\n            const {corn, message} = data\r\n            runInAction(() => {\r\n                CornStore.allCorn[index] = corn\r\n            })\r\n            showMessage(message)\r\n        } catch (e) {\r\n\r\n        }\r\n    }\r\n    if (loading) {\r\n        return <Loader/>\r\n    }\r\n\r\n    return (\r\n        <Modals textLink={iconEdit} id={id} modalTitle={'Редактирование зерна'} textCloseBtn={'Закрыть'}>\r\n            <form onSubmit={cornFormik.handleSubmit}>\r\n                <div className=\"row\">\r\n                    <div className=\"col s4\">\r\n                        <input className='validate' onChange={cornFormik.handleChange} defaultValue={cornFormik.values.name} name='name' type=\"text\"/>\r\n                        <label htmlFor=\"password\">Название зерна</label>\r\n                    </div>\r\n                    <div className=\"col s4\">\r\n                        <input className='validate' onChange={cornFormik.handleChange} defaultValue={cornFormik.values.name} name='weight'\r\n                               type=\"number\"/>\r\n                        <label htmlFor=\"password\">Объем</label>\r\n                    </div>\r\n                    <div className=\"col s4\">\r\n                        <input className='validate' onChange={cornFormik.handleChange} defaultValue={cornFormik.values.name} name='cost' type=\"number\"/>\r\n                        <label htmlFor=\"password\">Стоимость</label>\r\n                    </div>\r\n                </div>\r\n                <button type='submit' className=\"btn waves-effect waves-light\">Отправить\r\n                    <i className=\"material-icons right\">send</i>\r\n                </button>\r\n            </form>\r\n        </Modals>\r\n    )\r\n}\r\n","import React, {FC, useContext} from 'react'\r\nimport {EditCorn} from '../modals/EditCorn'\r\nimport {useHttp} from '../hooks/http.hook'\r\nimport {AuthContext} from '../context/AuthContext'\r\nimport {useMessage} from '../hooks/message.hook'\r\nimport CornStore from '../store/CornStore'\r\n\r\ntype MyProps = {\r\n    _id: string\r\n    name: string\r\n    weight: number\r\n    cost: number\r\n    index: number\r\n}\r\n\r\nexport const CornTableItem: FC<MyProps> = ({_id, name, weight, cost, index}) => {\r\n    const showMessage = useMessage()\r\n    const auth = useContext(AuthContext)\r\n    const {loading, request} = useHttp()\r\n    const deleteHandler = async () => {\r\n        try {\r\n            const result = window.confirm(`Вы уверены что хотите удалить ${name} ?`)\r\n            if (!result) {\r\n                return showMessage(`${name} - не удален`)\r\n            }\r\n            const data = await request('/api/corn/delete', 'DELETE', {_id, name}, {\r\n                Authorization: `Bearer: ${auth.token}`\r\n            })\r\n            CornStore.allCorn.splice(index, 1);\r\n            const {message} = data\r\n            showMessage(message)\r\n        } catch (e) {\r\n\r\n        }\r\n    }\r\n    return (\r\n        <>\r\n            <tr key={_id}>\r\n                <td>{name}</td>\r\n                <td>{weight}</td>\r\n                <td>{cost}</td>\r\n                <td>\r\n                    <EditCorn _id={_id} name={name} weight={weight} cost={cost} id={_id} index={index}/>\r\n                </td>\r\n                <td><i onClick={deleteHandler} className=\"material-icons\">clear</i></td>\r\n            </tr>\r\n        </>\r\n    )\r\n}\r\n\r\n","import React from 'react'\r\nimport CornStore from '../store/CornStore'\r\nimport {observer} from 'mobx-react'\r\nimport {CornTableItem} from './CornTableItem'\r\nimport {runInAction} from 'mobx'\r\n\r\nexport const CornTable = observer(() => {\r\n    const sortBy = (name: string) => {\r\n        runInAction(() => {\r\n            CornStore.allCorn.sort((a: any, b: any) => a[name] < b[name] ? 1 : -1)\r\n        })\r\n    }\r\n    const sortByName = () => {\r\n        runInAction(() => {\r\n            CornStore.allCorn.sort((a: any, b: any) => (a.name > b.name) ? 1 : ((b.name > a.name) ? -1 : 0))\r\n        })\r\n    }\r\n    if (!CornStore.allCorn.length) {\r\n        return <p>Пусто</p>\r\n    }\r\n    return (\r\n        <table>\r\n            <thead>\r\n            <tr>\r\n                <th onClick={sortByName}>Название</th>\r\n                <th onClick={() => sortBy('weight')}>Объем</th>\r\n                <th onClick={() => sortBy('cost')}>Стоимость</th>\r\n                <th>Редактировать</th>\r\n                <th>Удалить</th>\r\n            </tr>\r\n            </thead>\r\n\r\n            <tbody>\r\n            {\r\n                CornStore.allCorn.map((item, index) =>\r\n                    <CornTableItem _id={item._id} name={item.name} weight={item.weight} cost={item.cost}\r\n                                   key={item._id} index={index}/>\r\n                )\r\n            }\r\n            </tbody>\r\n        </table>\r\n    )\r\n})\r\n","import React, {useState} from 'react'\r\nimport {MainLayout} from '../layouts/MainLayout/MainLayout'\r\nimport {AddCorn} from '../components/AddCorn'\r\nimport {CornTable} from '../components/CornTable'\r\n\r\nexport const CornPage = () => {\r\n    const [isShowForm, setIsShowForm] = useState<boolean>(false)\r\n    return (\r\n        <MainLayout>\r\n            <div className=\"waves-effect waves-light btn\" onClick={() => setIsShowForm(!isShowForm)}>Добавить культуру</div>\r\n            {isShowForm && <AddCorn/>}\r\n            <CornTable/>\r\n        </MainLayout>\r\n    )\r\n}\r\n","import {useHttp} from \"../http.hook\";\r\nimport {useCallback} from \"react\";\r\nimport {TypeCorn} from \"../../types/types\";\r\nimport {runInAction} from \"mobx\";\r\nimport CornStore from \"../../store/CornStore\";\r\nimport {useAuth} from \"../auth.hook.js\";\r\nimport {observer} from \"mobx-react\";\r\n\r\nexport const useHttpCorn = () => {\r\n    const {loading, request} = useHttp()\r\n    const {token} = useAuth()\r\n    const loadingCorn = loading\r\n    const fetchCorn:any = useCallback(async () => {\r\n        try {\r\n            const fetched: TypeCorn[] = await request('api/corn/getList', 'GET', null, {\r\n                Authorization: `Bearer ${token}`\r\n            })\r\n            runInAction(() => {\r\n                CornStore.allCorn = fetched\r\n            })\r\n        } catch (e) {\r\n        }\r\n    }, [token, request])\r\n\r\n    return {fetchCorn, loadingCorn}\r\n}","import React, {useContext, useEffect, useRef} from 'react'\r\nimport {useMessage} from '../hooks/message.hook'\r\nimport {useFormik} from 'formik'\r\nimport {AuthContext} from '../context/AuthContext'\r\nimport {useHttp} from '../hooks/http.hook'\r\nimport {runInAction, toJS} from 'mobx'\r\nimport CornStore from '../store/CornStore'\r\nimport {Loader} from './Loader/Loader'\r\nimport {DatePicker} from './DatePicker'\r\nimport {observer} from 'mobx-react'\r\nimport {useHttpCorn} from \"../hooks/request/corn.hook\";\r\n\r\n\r\ntype TypeForm = {\r\n    _id: string\r\n    weight: number\r\n    date: Date | null\r\n}\r\n\r\nexport const AddSale = observer(() => {\r\n    const {fetchCorn, loadingCorn} = useHttpCorn()\r\n    const message = useMessage()\r\n    const saleFormik = useFormik<TypeForm>({\r\n        initialValues: {\r\n            _id: '',\r\n            weight: 0,\r\n            date: null\r\n        },\r\n        onSubmit: async (values) => {\r\n            await addHandler(values)\r\n            fetchCorn()\r\n        }\r\n    })\r\n    const auth = useContext(AuthContext)\r\n    const {loading, request} = useHttp()\r\n    const addHandler = async (values: TypeForm) => {\r\n        try {\r\n            const data = await request('/api/sale/add', 'POST', {...values}, {\r\n                Authorization: `Bearer: ${auth.token}`\r\n            })\r\n            const {sale} = data\r\n            runInAction(() => {\r\n                console.log(toJS(CornStore.allSale))\r\n                CornStore.allSale = [...CornStore.allSale, ...[sale]]\r\n                console.log(toJS(CornStore.allSale))\r\n            })\r\n            message(data.message)\r\n        } catch (e) {\r\n            console.log(e)\r\n            message(e.message)\r\n        }\r\n    }\r\n    const select = CornStore.allCorn.map(({_id, name, cost, weight}) =>\r\n        <option value={_id} key={_id}>{`${name}(${cost}₽, ${weight}кг)`}</option>\r\n    )\r\n    const selectRef = useRef<any>()\r\n    useEffect(() => {\r\n        (window as any).M.FormSelect.init(selectRef.current)\r\n        // eslint-disable-next-line\r\n    }, [selectRef.current])\r\n    if (loading) {\r\n        return <Loader/>\r\n    }\r\n    return (\r\n        <form onSubmit={saleFormik.handleSubmit}>\r\n            <div className=\"row\">\r\n                <div className=\"col s12\">\r\n                    <div className=\"row\">\r\n                        <div className=\"input-field col s12\">\r\n                            <select ref={selectRef} name='_id' onChange={saleFormik.handleChange}>\r\n                                <option value=\"\" disabled selected>Выберите зерно</option>\r\n                                {select}\r\n                            </select>\r\n\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"row s12\">\r\n                        <div className=\"input-field col s6\">\r\n                            <input className='validate' onChange={saleFormik.handleChange} name='weight'\r\n                                   type=\"number\"/>\r\n                            <label htmlFor=\"password\">Объем</label>\r\n                        </div>\r\n\r\n                        <div className=\"input-field col s6\">\r\n                            <DatePicker\r\n                                formik={saleFormik}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <button type='submit' className=\"btn waves-effect waves-light\">Добавить\r\n                    <i className=\"material-icons right\">send</i>\r\n                </button>\r\n            </div>\r\n        </form>\r\n    )\r\n})\r\n","import React from 'react'\r\nimport CornStore from '../store/CornStore'\r\nimport {observer} from \"mobx-react\";\r\n\r\nexport const SaleTable = observer(() => {\r\n    return(\r\n        <table>\r\n            <thead>\r\n            <tr>\r\n                <th>Название</th>\r\n                <th>Объем(кг)</th>\r\n                <th>Сумма</th>\r\n                <th>Дата</th>\r\n            </tr>\r\n            </thead>\r\n\r\n            <tbody>\r\n            {\r\n                CornStore.allSale.map((item) => {\r\n                    return (\r\n                        <tr key={item._id}>\r\n                            <td>{item.name}</td>\r\n                            <td>{item.weight}</td>\r\n                            <td>{item.sum}</td>\r\n                            <td>{new Date(item.date).toLocaleDateString()}</td>\r\n                        </tr>\r\n                    )\r\n                })\r\n            }\r\n            </tbody>\r\n        </table>\r\n    )\r\n})\r\n","import React, {useCallback, useContext, useEffect, useState} from 'react'\r\nimport {MainLayout} from '../layouts/MainLayout/MainLayout'\r\nimport {AddSale} from '../components/AddSale'\r\nimport {SaleTable} from '../components/SaleTable'\r\nimport {useHttp} from \"../hooks/http.hook\";\r\nimport {AuthContext} from \"../context/AuthContext\";\r\nimport {TypeSale} from \"../types/types\";\r\nimport {runInAction} from \"mobx\";\r\nimport CornStore from \"../store/CornStore\";\r\nimport {Loader} from \"../components/Loader/Loader\";\r\nimport {observer} from \"mobx-react\";\r\n\r\nexport const SalePage = observer(() => {\r\n    const {loading, request} = useHttp()\r\n    const {token} = useContext(AuthContext)\r\n    const fetchSale = useCallback(async () => {\r\n        try {\r\n            const fetched: TypeSale[] = await request('api/sale/get', 'GET', null, {\r\n                Authorization: `Bearer ${token}`\r\n            })\r\n            runInAction(() => {\r\n                CornStore.allSale = fetched\r\n            })\r\n        } catch (e) {\r\n        }\r\n    }, [token, request])\r\n\r\n    useEffect(() => {\r\n        fetchSale()\r\n    }, [fetchSale])\r\n    const [isShowForm, setIsShowForm] = useState<boolean>(false)\r\n    if (loading) return <Loader/>\r\n    return(\r\n        <MainLayout>\r\n            <div className=\"waves-effect waves-light btn\" onClick={() => setIsShowForm(!isShowForm)}>Добавить культуру</div>\r\n            {isShowForm && <AddSale/>}\r\n            <SaleTable/>\r\n        </MainLayout>\r\n    )\r\n})\r\n","import React, {useEffect} from 'react'\r\nimport {BrowserRouter as Router} from 'react-router-dom'\r\nimport {AuthContext} from \"./context/AuthContext\";\r\nimport {useAuth} from \"./hooks/auth.hook.js\";\r\nimport {Loader} from './components/Loader/Loader'\r\nimport {useRoutes} from './routes'\r\nimport {useHttpCorn} from \"./hooks/request/corn.hook\";\r\n\r\nconst App = () => {\r\n    const {token, login, logout, userId, ready} = useAuth()\r\n    const isAuthenticated = !!token\r\n    const routes = useRoutes(isAuthenticated)\r\n    const {fetchCorn} = useHttpCorn()\r\n    useEffect(() => {\r\n        if (ready) {\r\n            fetchCorn()\r\n        }\r\n    }, [ready, fetchCorn])\r\n    //END Corn\r\n    if (!ready) {\r\n        return <Loader/>\r\n    }\r\n    return (\r\n        <AuthContext.Provider value={{\r\n            token, login, logout, userId, isAuthenticated\r\n        }}>\r\n            <Router>\r\n                {routes}\r\n            </Router>\r\n        </AuthContext.Provider>\r\n    )\r\n}\r\n\r\nexport default App\r\n","import React from 'react'\r\nimport {Redirect, Route, Switch} from 'react-router-dom'\r\nimport {DashboardPage} from './pages/DashboardPage'\r\nimport {AuthPage} from './pages/AuthPage'\r\nimport {PoisonsPage} from './pages/PoisonsPage'\r\nimport {CornPage} from './pages/CornPage'\r\nimport {SalePage} from './pages/SalePage'\r\n\r\nexport const useRoutes = (isAuthenticated: boolean) => {\r\n    if (isAuthenticated) {\r\n        return (\r\n            <Switch>\r\n                <Route exact path={'/'} component={DashboardPage}/>\r\n                <Route exact path={'/poisons'} component={PoisonsPage}/>\r\n                <Route exact path={'/add-corn'} component={CornPage}/>\r\n                <Route exact path={'/add-sale'} component={SalePage}/>\r\n                <Redirect to='/'/>\r\n            </Switch>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Switch>\r\n            <Route exact path={'/login'} component={AuthPage}/>\r\n            <Redirect to='/login'/>\r\n        </Switch>\r\n    )\r\n}\r\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Logo_wrapper__3tWNt\",\"logo\":\"Logo_logo__y9fro\",\"title\":\"Logo_title__3J_PO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"MainLayout_wrapper__1hprB\",\"close\":\"MainLayout_close__2fG3_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Sidebar_wrapper__3PPWJ\",\"close\":\"Sidebar_close__2iZlH\"};"],"sourceRoot":""}