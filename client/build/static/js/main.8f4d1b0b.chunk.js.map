{"version":3,"sources":["context/AuthContext.ts","context/RequestContext.ts","store/UserStore.ts","hooks/auth.hook.js.ts","components/Loader/Loader.tsx","assets/images/logo.png","containers/Sidebar/components/Header.tsx","containers/Sidebar/components/MenuList.tsx","containers/Sidebar/Sidebar.tsx","containers/Header/Header.tsx","layouts/MainLayout/MainLayout.tsx","components/CardMetric/CardMetric.tsx","store/CornStore.ts","components/CornStatic.tsx","pages/DashboardPage.tsx","hooks/http.hook.ts","hooks/message.hook.ts","pages/AuthPage/images/bg.jpg","pages/AuthPage/AuthPage.tsx","components/AddPoisons/AddPoisons.tsx","components/Table/components/MyTableHead.tsx","components/Table/MyTable.tsx","components/PoisonsTable.tsx","pages/PoisonsPage.tsx","components/AddCorn.tsx","components/CornTable.tsx","pages/CornPage.tsx","components/AddSale.tsx","components/SaleTable.tsx","pages/SalePage.tsx","App.tsx","routes.tsx","request/MainRequests.ts","reportWebVitals.ts","index.tsx"],"names":["noop","AuthContext","createContext","token","userId","login","logout","isAuthenticated","RequestContext","loadingCorn","ready","makeAutoObservable","this","storageName","Loader","className","Header","Box","component","px","py","to","Grid","container","spacing","alignItems","item","xs","Avatar","alt","src","logo","Typography","variant","MenuList","List","ListItem","button","Link","ListItemIcon","ListItemText","primary","Sidebar","state","openSidebar","setOpenSidebar","Drawer","open","onClose","event","auth","useContext","classes","makeStyles","theme","createStyles","root","flexGrow","menuButton","marginRight","title","color","useStyles","useState","AppBar","position","Toolbar","IconButton","edge","onClick","Button","startIcon","MainLayout","children","CardMetric","text","col","allCorn","allPoisons","allSale","getAllName","map","name","getAllWeight","weight","getAllColor","index","CornStatic","observer","data","CornStore","length","labels","datasets","backgroundColor","borderColor","borderWidth","DashboardPage","req","useEffect","label","options","scales","yAxes","stacked","ticks","beginAtZero","xAxes","fill","useHttp","loading","setLoading","error","setError","request","useCallback","url","a","method","body","headers","JSON","stringify","fetch","response","json","ok","Error","message","clearError","useMessage","window","M","toast","html","AuthPage","email","password","form","setForm","changeHandler","target","value","registerHandler","loginHandler","style","bg","backgroundImage","height","backgroundPosition","backgroundRepeat","backgroundSize","borderRadius","paddingTop","paddingBottom","Container","maxWidth","TextField","margin","required","fullWidth","id","autoComplete","autoFocus","onChange","type","direction","disabled","AddPoisons","poisonsFormik","useFormik","initialValues","cost","date","onSubmit","values","addHandler","resetForm","Authorization","poison","runInAction","handleSubmit","handleChange","my","MyTableHead","headData","TableHead","TableRow","TableCell","MyTable","TableContainer","Paper","Table","size","TableBody","PoisonsTable","sum","Date","toLocaleDateString","_id","PoisonsPage","fetchPoisons","fetched","isShowForm","setIsShowForm","justifyContent","AddCorn","cornFormik","console","log","corn","CornTable","CornPage","AddSale","saleFormik","sale","toJS","InputLabel","Select","labelId","defaultValue","setFieldValue","MenuItem","InputLabelProps","shrink","SaleTable","scope","SalePage","fetchSale","App","jwtToken","UserStore","localStorage","setItem","removeItem","local","getItem","parse","useAuth","routes","exact","path","useRoutes","MainRequest","Provider","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"4LAEA,SAASA,KAUF,IAAMC,EAAcC,wBAAc,CACrCC,MAAO,KACPC,OAAQ,KACRC,MAAOL,EACPM,OAAQN,EACRO,iBAAiB,ICVd,IAAMC,EAAiBN,wBAAc,CACxCO,YANJ,e,cCae,MAPX,aAAe,yBAJfN,MAAsB,KAIR,KAHdC,OAAwB,KAGV,KAFdM,OAAiB,EAGbC,YAAmBC,OCNrBC,EAAsB,W,OCDfC,EAAS,WAClB,OACI,qBAAKC,UAAU,+BAAf,SACI,sBAAKA,UAAU,6BAAf,UACI,qBAAKA,UAAU,sBAAf,SACI,qBAAKA,UAAU,aAEnB,qBAAKA,UAAU,YAAf,SACI,qBAAKA,UAAU,aAEnB,qBAAKA,UAAU,uBAAf,SACI,qBAAKA,UAAU,mB,oICbpB,MAA0B,iCCM5BC,EAAS,WAClB,OACI,cAACC,EAAA,EAAD,CAAKC,UAAU,MAAMC,GAAI,EAAGC,GAAI,EAAhC,SACI,cAAC,IAAD,CAAMC,GAAG,IAAT,SACI,eAACC,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAGC,WAAW,SAAvC,UACI,cAACH,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,EAAf,SACI,cAACC,EAAA,EAAD,CAAQC,IAAI,mDAAWC,IAAKC,MAEhC,cAACT,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,EAAf,SACI,cAACK,EAAA,EAAD,CAAYC,QAAQ,KAAKf,UAAU,KAAnC,wE,0FCRXgB,EAAW,WACpB,OACI,eAACC,EAAA,EAAD,WACI,eAACC,EAAA,EAAD,CAAUC,QAAM,EAACnB,UAAWoB,IAAMjB,GAAI,QAAtC,UACI,cAACkB,EAAA,EAAD,UAAc,cAAC,IAAD,MACd,cAACC,EAAA,EAAD,CAAcC,QAAS,sCAE3B,eAACL,EAAA,EAAD,CAAUC,QAAM,EAACnB,UAAWoB,IAAMjB,GAAI,WAAtC,UACI,cAACkB,EAAA,EAAD,UAAc,cAAC,IAAD,MACd,cAACC,EAAA,EAAD,CAAcC,QAAS,0BAG3B,eAACL,EAAA,EAAD,CAAUC,QAAM,EAACnB,UAAWoB,IAAMjB,GAAI,QAAtC,UACI,cAACkB,EAAA,EAAD,UAAc,cAAC,IAAD,MACd,cAACC,EAAA,EAAD,CAAcC,QAAS,sDCV1BC,EAAuB,SAAC,GAAmC,IAElDC,EAFgBC,EAAiC,EAAjCA,YAAaC,EAAoB,EAApBA,eAQ/C,OACI,eAACC,EAAA,EAAD,CAAQC,KAAMH,EAAaI,SAPbL,GAO+B,EAPZ,SACjCM,GAEAJ,EAAeF,KAIf,UACI,cAAC,EAAD,IACA,cAAC,EAAD,Q,kBCZC3B,EAAa,WACtB,IAAMkC,EAAOC,qBAAWlD,GAelBmD,EAdYC,aAAW,SAACC,GAAD,OACzBC,YAAa,CACTC,KAAM,CACFC,SAAU,GAEdC,WAAY,CACRC,YAAaL,EAAM9B,QAAQ,IAE/BoC,MAAO,CACHH,SAAU,EACVI,MAAO,YAIHC,GAChB,EAAsCC,oBAAkB,GAAxD,mBAAOnB,EAAP,KAAoBC,EAApB,KACA,OACI,qCACI,cAACmB,EAAA,EAAD,CAAQC,SAAS,SAAjB,SACI,eAACC,EAAA,EAAD,WACI,cAACC,EAAA,EAAD,CAAYC,KAAK,QAAQrD,UAAWqC,EAAQM,WAAYG,MAAM,UAAU,aAAW,OAAOQ,QAAS,kBAAMxB,GAAgBD,IAAzH,SACI,cAAC,IAAD,MAEJ,cAACZ,EAAA,EAAD,CAAYd,UAAWoB,IAAMjB,GAAI,IAAKY,QAAQ,KAAKlB,UAAWqC,EAAQQ,MAAtE,8DAGA,cAACU,EAAA,EAAD,CAAQC,UAAW,cAAC,IAAD,IAAkBV,MAAM,UAAUQ,QAAS,kBAAMnB,EAAK5C,UAAzE,iDAGR,cAAC,EAAD,CAASsC,YAAaA,EAAaC,eAAgBA,QCtClD2B,EAAiB,SAAC,GAAgB,IAAfC,EAAc,EAAdA,SAC5B,OACI,gCACI,cAAC,EAAD,IACA,qBAAK1D,UAAU,YAAf,SACK0D,QCFJC,EAA6B,SAAC,GAA2B,IAA1BC,EAAyB,EAAzBA,KAAMC,EAAmB,EAAnBA,IAAKH,EAAc,EAAdA,SACnD,OACI,qBAAK1D,UAAS,eAAU6D,GAAxB,SACI,sBAAK7D,UAAU,OAAf,UACI,qBAAKA,UAAU,aAAf,SACK0D,IAEL,qBAAK1D,UAAU,eAAf,SACK4D,GAAQ,4BAAIA,Y,gBCwBlB,MA5BX,aAAe,IAAD,gCALdE,QAA0B,GAKZ,KAJdC,WAAiC,GAInB,KAHdC,QAA2B,GAGb,KAIdC,WAAa,WAIT,OAH8B,EAAKH,QAAQI,KAAI,SAAAvD,GAC3C,OAAOA,EAAKwD,SANN,KAWdC,aAAe,WAIX,OAH8B,EAAKN,QAAQI,KAAI,SAAAvD,GAC3C,OAAOA,EAAK0D,WAbN,KAkBdC,YAAc,SAACC,GAIX,OAH8B,EAAKT,QAAQI,KAAI,SAAAvD,GAC3C,OAAOA,EAAKmC,MAAMyB,OAnBtB3E,YAAmBC,OCJd2E,EAAaC,aAAS,WAC/B,IAAMC,EAAOC,EAAUb,QAAQc,OAAS,CACpCC,OAAQF,EAAUV,aAClBa,SAAU,CACN,CACIJ,KAAMC,EAAUP,eAChBW,gBAAiBJ,EAAUL,YAAY,GACvCU,YAAaL,EAAUL,YAAY,GACnCW,YAAa,KAGrB,GACJ,OACI,cAAC,EAAD,CACIrB,KAAM,6HACNC,IAAK,EAFT,SAIKc,EAAUb,QAAQc,OACf,cAAC,MAAD,CACIF,KAAMA,IAGV,qCACI,oLACA,cAAC,IAAD,CAAMpE,GAAG,YAAT,4ECvBP4E,GAAgBT,aAAS,WAClC,IAAMU,EAAM/C,qBAAW3C,GACvB2F,qBAAU,WACND,EAAIzF,gBACL,IAkEH,OACI,eAAC,EAAD,WACI,uHACA,sBAAKM,UAAU,MAAf,UACI,cAACwE,EAAD,IACA,cAAC,EAAD,CACIZ,KAAM,qGACNC,IAAK,EAFT,SAII,cAAC,MAAD,CACIa,KA1EJ,CACZG,OAAQ,CAAC,uCAAU,6CAAW,2BAAQ,uCAAU,qBAAO,2BAAQ,2BAAQ,uCAAU,mDAAY,mDAAY,uCAAU,8CACnHC,SAAU,CACN,CACIO,MAAO,2BACPX,KAAM,CAAC,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACzCK,gBAAiB,yBAErB,CACIM,MAAO,6CACPX,KAAM,CAAC,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACzCK,gBAAiB,yBAErB,CACIM,MAAO,uCACPX,KAAM,CAAC,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACzCK,gBAAiB,2BA2DTO,QAtDG,CACnBC,OAAQ,CACJC,MAAO,CACH,CACIC,SAAS,EACTC,MAAO,CACHC,aAAa,KAIzBC,MAAO,CACH,CACIH,SAAS,UA6Cb,cAAC,EAAD,CAAY7B,KAAM,gGAAsBC,IAAK,EAA7C,SACI,cAAC,OAAD,CAAMa,KAxCH,CACfG,OAAQ,CAAC,2BAAQ,2BAAQ,wCACzBC,SAAU,CACN,CACIO,MAAO,eACPX,KAAM,CAAC,IAAK,IAAK,KACjBmB,MAAM,EACNd,gBAAiB,oBACjBC,YAAa,6BAgCeM,QA3Bd,CACtBC,OAAQ,CACJC,MAAO,CACH,CACIE,MAAO,CACHC,aAAa,oB,+CCrExBG,GAAU,WACnB,MAA8B9C,oBAAkB,GAAhD,mBAAO+C,EAAP,KAAgBC,EAAhB,KACA,EAA0BhD,mBAAyB,MAAnD,mBAAOiD,EAAP,KAAcC,EAAd,KA2BA,MAAO,CAACH,UAASI,QAzBDC,sBAAW,yCAAC,WAAOC,GAAP,oCAAAC,EAAA,6DAAoBC,EAApB,+BAAqC,MAAOC,EAA5C,+BAAmD,KAAMC,EAAzD,+BAAwE,GAChGT,GAAW,GADa,SAGhBQ,IACAA,EAAOE,KAAKC,UAAUH,GACtBC,EAAQ,gBAAkB,oBALV,SAQGG,MAAMP,EAAK,CAACE,SAAQC,OAAMC,YAR7B,cAQdI,EARc,iBASDA,EAASC,OATR,WASdpC,EATc,OAWfmC,EAASE,GAXM,uBAYV,IAAIC,MAAMtC,EAAKuC,SAAW,kGAZhB,eAcpBjB,GAAW,GAdS,kBAebtB,GAfa,wCAiBpBsB,GAAW,GACXE,EAAS,KAAEe,SAlBS,+DAAD,sDAqBxB,IAIuBhB,QAAOiB,WAFdd,uBAAY,kBAAMF,EAAS,QAAO,MC3B5CiB,GAAa,WACtB,OAAOf,uBAAY,SAAAxC,GAEXwD,OAAOC,GAAKzD,GAEZwD,OAAOC,EAAEC,MAAM,CAACC,KAAM3D,MAE3B,K,oBCTQ,OAA0B,+BCY5B4D,GAAW,WACpB,MAAwBxE,mBAAmB,CACvCyE,MAAO,GACPC,SAAU,KAFd,mBAAOC,EAAP,KAAaC,EAAb,KAKMX,EAAUE,KAEVU,EAAgB,SAAC3F,GACnB0F,EAAQ,6BAAID,GAAL,mBAAYzF,EAAM4F,OAAO3D,KAAOjC,EAAM4F,OAAOC,UAElD5F,EAAOC,qBAAWlD,GACxB,EAA8C4G,KAAvCC,EAAP,EAAOA,QAASI,EAAhB,EAAgBA,QAASF,EAAzB,EAAyBA,MAAOiB,EAAhC,EAAgCA,WAC1Bc,EAAe,yCAAG,6BAAA1B,EAAA,+EAEGH,EAAQ,qBAAsB,OAAvB,gBAAmCwB,IAF7C,OAEVjD,EAFU,OAGhBuC,EAAQvC,EAAKuC,SAHG,uGAAH,qDASfgB,EAAY,yCAAG,6BAAA3B,EAAA,+EAEMH,EAAQ,kBAAmB,OAApB,gBAAgCwB,IAF7C,OAEPjD,EAFO,OAGbvC,EAAK7C,MAAMoF,EAAKtF,MAAOsF,EAAKrF,QAHf,uGAAH,qDAQlB+F,qBAAU,WACN6B,EAAQhB,GACRiB,MACD,CAACjB,EAAOgB,EAASC,IACpB,IAAMgB,EAAQ,CACVC,GAAI,CACAC,gBAAgB,OAAD,OAASD,GAAT,KACfE,OAAQ,QACRC,mBAAoB,SACpBC,iBAAkB,YAClBC,eAAgB,SAEpBb,KAAM,CACF5C,gBAAiB,0BACjB0D,aAAc,GACdC,WAAY,GACZC,cAAe,KAGvB,OACI,cAACpI,EAAA,EAAD,CAAM2H,MAAOA,EAAMC,GAAI3H,WAAS,EAACE,WAAW,SAA5C,SACI,eAACkI,GAAA,EAAD,CAAWC,SAAS,KAAKX,MAAOA,EAAMP,KAAtC,UACI,cAAC1G,EAAA,EAAD,CAAYd,UAAU,KAAKe,QAAQ,KAAnC,sHAGA,cAAC4H,GAAA,EAAD,CACI5H,QAAQ,WACR6H,OAAO,SACPC,UAAQ,EACRC,WAAS,EACTC,GAAG,QACH7D,MAAM,iCACNlB,KAAK,QACLgF,aAAa,QACbC,WAAS,EACTC,SAAU,SAACnH,GAAD,OAAW2F,EAAc3F,MAEvC,cAAC4G,GAAA,EAAD,CACI5H,QAAQ,WACR6H,OAAO,SACPC,UAAQ,EACRC,WAAS,EACT9E,KAAK,WACLkB,MAAM,uCACNiE,KAAK,WACLJ,GAAG,WACHC,aAAa,mBACbE,SAAU,SAACnH,GAAD,OAAW2F,EAAc3F,MAEvC,eAAC3B,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAG8I,UAAU,SAAtC,UACI,cAAChJ,EAAA,EAAD,CAAMI,MAAI,EAAV,SACI,cAAC4C,EAAA,EAAD,CACI+F,KAAK,SACLL,WAAS,EACT/H,QAAQ,YACR4B,MAAM,UACNQ,QAAS2E,EACTuB,SAAUzD,EANd,8CAWJ,cAACxF,EAAA,EAAD,CAAMI,MAAI,EAAV,SACI,cAAC4C,EAAA,EAAD,CACI+F,KAAK,SACLL,WAAS,EACT/H,QAAQ,WACR4B,MAAM,YACNQ,QAAS0E,EACTwB,SAAUzD,EANd,qI,sCCvFX0D,GAAiB,WAC1B,IAAMxC,EAAUE,KACVuC,EAAgBC,aAAoB,CACtCC,cAAe,CACXzF,KAAM,GACNE,OAAQ,EACRwF,KAAM,EACNC,KAAM,MAEVC,SAAS,WAAD,8BAAE,WAAOC,GAAP,UAAA1D,EAAA,sEACA2D,EAAWD,GADX,OAENN,EAAcQ,YAFR,2CAAF,mDAAC,KAKP/H,EAAOC,qBAAWlD,GACxB,EAA2B4G,KAApBC,EAAP,EAAOA,QAASI,EAAhB,EAAgBA,QACV8D,EAAU,yCAAG,WAAOD,GAAP,kBAAA1D,EAAA,+EAEQH,EAAQ,mBAAoB,OAArB,gBAAiC6D,GAAS,CAChEG,cAAc,WAAD,OAAahI,EAAK/C,SAHxB,OAELsF,EAFK,OAKJ0F,EAAU1F,EAAV0F,OACPC,aAAY,WACR1F,EAAUZ,WAAV,uBAA2BY,EAAUZ,YAAe,CAACqG,OAEzDnD,EAAQ,0DATG,yGAAH,sDAchB,OAAIlB,EACO,cAAC,EAAD,IAGP,uBAAMgE,SAAUL,EAAcY,aAA9B,UACI,eAAC/J,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAzB,UACI,cAACF,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,EAAf,SACI,cAACkI,GAAA,EAAD,CAAWzD,MAAO,sEAAgBgE,SAAUK,EAAca,aAAcpG,KAAK,OAAOmF,KAAK,OAC9EL,WAAS,MAExB,cAAC1I,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,EAAf,SACI,cAACkI,GAAA,EAAD,CAAWzD,MAAO,+CAAagE,SAAUK,EAAca,aAAcpG,KAAK,SAASmF,KAAK,SAC7EL,WAAS,MAExB,cAAC1I,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,EAAf,SACI,cAACkI,GAAA,EAAD,CAAWzD,MAAO,+CAAagE,SAAUK,EAAca,aAAcpG,KAAK,OAAOmF,KAAK,SAC3EL,WAAS,SAG5B,cAAC/I,EAAA,EAAD,CAAKsK,GAAI,EAAT,SACI,cAACjH,EAAA,EAAD,CACIrC,QAAQ,YACR4B,MAAM,UACNU,UAAW,cAAC,KAAD,IACX8F,KAAK,SAJT,oE,8BC7DHmB,GAA0B,SAAC,GAAgB,IAAfC,EAAc,EAAdA,SACrC,OACI,cAACC,GAAA,EAAD,UACI,cAACC,GAAA,EAAD,UAEQF,EAASxG,KAAI,SAACN,EAAMW,GAAP,OACT,cAACsG,GAAA,EAAD,UAAwBjH,GAARW,W,wCCL3BuG,GAAuB,SAAC,GAA0B,IAAzBJ,EAAwB,EAAxBA,SAAUhH,EAAc,EAAdA,SAC5C,OACI,cAACqH,GAAA,EAAD,CAAgB5K,UAAW6K,KAA3B,SACI,eAACC,GAAA,EAAD,CAAOC,KAAK,QAAQ,aAAW,gBAA/B,UACI,cAAC,GAAD,CACIR,SAAUA,IAEd,cAACS,GAAA,EAAD,UACKzH,UCRR0H,GAAe3G,aAAS,WAajC,OAAKE,EAAUZ,WAAWa,OAMtB,cAAC,GAAD,CACI8F,SAAU,CAAC,mDAAY,+CAAa,+CAAa,8EAAmB,4BADxE,SAGK/F,EAAUZ,WAAWG,KAAI,SAACvD,GAAD,OACtB,eAACiK,GAAA,EAAD,WACI,cAACC,GAAA,EAAD,UAAYlK,EAAKwD,OACjB,cAAC0G,GAAA,EAAD,UAAYlK,EAAK0D,SACjB,cAACwG,GAAA,EAAD,UAAYlK,EAAKkJ,OACjB,cAACgB,GAAA,EAAD,UAAYlK,EAAK0K,MACjB,cAACR,GAAA,EAAD,UAAY,IAAIS,KAAK3K,EAAKmJ,MAAMyB,yBALrB5K,EAAK6K,UARxB,kE,wCCPCC,GAAchH,aAAS,WAChC,MAA2BqB,KAApBC,EAAP,EAAOA,QAASI,EAAhB,EAAgBA,QACT/G,EAASgD,qBAAWlD,GAApBE,MACDsM,EAAetF,sBAAW,wBAAC,6BAAAE,EAAA,+EAEYH,EAAQ,sBAAuB,MAAO,KAAM,CAC7EgE,cAAc,UAAD,OAAY/K,KAHJ,OAEnBuM,EAFmB,OAKzBtB,aAAY,WACR1F,EAAUZ,WAAa4H,KANF,uGAU9B,CAACvM,EAAO+G,IAEXf,qBAAU,WACNsG,MACD,CAACA,IAEJ,MAAoC1I,oBAAkB,GAAtD,mBAAO4I,EAAP,KAAmBC,EAAnB,KAEA,OAAI9F,EACO,cAAC,EAAD,UAAY,cAAC,EAAD,MAGnB,eAAC,EAAD,WACI,cAAC7F,EAAA,EAAD,CAAKsK,GAAI,EAAT,SACI,eAACjK,EAAA,EAAD,CAAMC,WAAS,EAAC+I,UAAU,MAAMuC,eAAe,gBAAgBpL,WAAW,SAA1E,UACI,cAACO,EAAA,EAAD,CAAYC,QAAQ,KAAKf,UAAU,KAAnC,gCACA,cAACoD,EAAA,EAAD,CACIrC,QAAQ,YACR4B,MAAM,UACNU,UAAWoI,EAAa,cAAC,KAAD,IAAgB,cAAC,KAAD,IACxCtI,QAAS,kBAAMuI,GAAeD,IAJlC,SAMKA,EAAa,6CAAY,uEAIrCA,GAAc,cAAC,GAAD,IACf,cAACR,GAAD,UCvCCW,GAAU,WACnB,IAAM9E,EAAUE,KACV6E,EAAarC,aAAoB,CACnCC,cAAe,CACXzF,KAAM,GACNE,OAAQ,EACRwF,KAAM,GAEVE,SAAS,WAAD,8BAAE,WAAOC,GAAP,UAAA1D,EAAA,sDACN2F,QAAQC,IAAIlC,GACZC,EAAWD,GAFL,2CAAF,mDAAC,KAMP7H,EAAOC,qBAAWlD,GACxB,EAA2B4G,KAApBC,EAAP,EAAOA,QAASI,EAAhB,EAAgBA,QACV8D,EAAU,yCAAG,WAAOD,GAAP,kBAAA1D,EAAA,+EAEQH,EAAQ,oBAAqB,OAAtB,gBAAkC6D,GAAS,CACjEG,cAAc,WAAD,OAAahI,EAAK/C,SAHxB,OAELsF,EAFK,OAKJyH,EAAQzH,EAARyH,KACP9B,aAAY,WACR1F,EAAUb,QAAV,uBAAwBa,EAAUb,SAAY,CAACqI,OAEnDlF,EAAQ,0DATG,yGAAH,sDAchB,OAAIlB,EACO,cAAC,EAAD,IAGP,uBAAMgE,SAAUiC,EAAW1B,aAA3B,UACI,eAAC/J,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAzB,UACI,cAACF,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,EAAf,SACI,cAACkI,GAAA,EAAD,CAAWzD,MAAO,kFAAkBgE,SAAU2C,EAAWzB,aAAcpG,KAAK,OAAOmF,KAAK,OAC7EL,WAAS,MAExB,cAAC1I,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,EAAf,SACI,cAACkI,GAAA,EAAD,CAAWzD,MAAO,iCAASgE,SAAU2C,EAAWzB,aAAcpG,KAAK,SAASmF,KAAK,SACtEL,WAAS,MAExB,cAAC1I,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,EAAf,SACI,cAACkI,GAAA,EAAD,CAAWzD,MAAO,yDAAagE,SAAU2C,EAAWzB,aAAcpG,KAAK,OAAOmF,KAAK,SACxEL,WAAS,SAG5B,cAAC/I,EAAA,EAAD,CAAKsK,GAAI,EAAT,SACI,cAACjH,EAAA,EAAD,CACIrC,QAAQ,YACR4B,MAAM,UACNU,UAAW,cAAC,KAAD,IACX8F,KAAK,SAJT,oEC5DH8C,GAAY3H,aAAS,WAY9B,OAAKE,EAAUb,QAAQc,OAInB,cAAC,GAAD,CACI8F,SAAU,CAAC,mDAAW,iCAAQ,0DADlC,SAGK/F,EAAUb,QAAQI,KAAI,SAACvD,EAAM4D,GAAP,OACnB,eAACqG,GAAA,EAAD,WACI,cAACC,GAAA,EAAD,UAAYlK,EAAKwD,OACjB,cAAC0G,GAAA,EAAD,UAAYlK,EAAK0D,SACjB,cAACwG,GAAA,EAAD,UAAYlK,EAAKkJ,SAHNtF,QAPhB,kECXF8H,GAAW5H,aAAS,WAC7B,MAAoCzB,oBAAkB,GAAtD,mBAAO4I,EAAP,KAAmBC,EAAnB,KACA,OACI,eAAC,EAAD,WACI,cAAC3L,EAAA,EAAD,CAAKsK,GAAI,EAAT,SACI,eAACjK,EAAA,EAAD,CAAMC,WAAS,EAAC+I,UAAU,MAAMuC,eAAe,gBAAgBpL,WAAW,SAA1E,UACI,cAACO,EAAA,EAAD,CAAYC,QAAQ,KAAKf,UAAU,KAAnC,4CACA,cAACoD,EAAA,EAAD,CACIrC,QAAQ,YACR4B,MAAM,UACNU,UAAWoI,EAAa,cAAC,KAAD,IAAgB,cAAC,KAAD,IACxCtI,QAAS,kBAAMuI,GAAeD,IAJlC,SAMKA,EAAa,6CAAY,2GAKrCA,GAAc,cAAC,GAAD,IACf,cAACQ,GAAD,U,8BCRCE,GAAU7H,aAAS,WAC5B,IAAMU,EAAM/C,qBAAW3C,GACjBwH,EAAUE,KACVoF,EAAa5C,aAAoB,CACnCC,cAAe,CACX4B,IAAK7G,EAAUb,QAAQ,GAAG0H,IAC1BnH,OAAQ,EACRyF,KAAM,MAEVC,SAAS,WAAD,8BAAE,WAAOC,GAAP,UAAA1D,EAAA,sEACA2D,EAAWD,GADX,OAEN7E,EAAIzF,cAFE,2CAAF,mDAAC,KAKPyC,EAAOC,qBAAWlD,GACxB,EAA2B4G,KAApBC,EAAP,EAAOA,QAASI,EAAhB,EAAgBA,QACV8D,EAAU,yCAAG,WAAOD,GAAP,kBAAA1D,EAAA,+EAEQH,EAAQ,gBAAiB,OAAlB,gBAA8B6D,GAAS,CAC7DG,cAAc,WAAD,OAAahI,EAAK/C,SAHxB,OAELsF,EAFK,OAKJ8H,EAAQ9H,EAAR8H,KACPnC,aAAY,WACR4B,QAAQC,IAAIO,YAAK9H,EAAUX,UAC3BW,EAAUX,QAAV,uBAAwBW,EAAUX,SAAY,CAACwI,IAC/CP,QAAQC,IAAIO,YAAK9H,EAAUX,aAE/BiD,EAAQvC,EAAKuC,SAXF,gDAaXgF,QAAQC,IAAR,MACAjF,EAAQ,KAAEA,SAdC,yDAAH,sDAiBhB,OAAIlB,EACO,cAAC,EAAD,IAGP,uBAAMgE,SAAUwC,EAAWjC,aAA3B,UACI,eAAC/J,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAzB,UACI,eAACF,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,EAAf,UACI,cAAC8L,GAAA,EAAD,CAAYxD,GAAG,cAAf,6FACA,cAACyD,GAAA,EAAD,CAAQC,QAAQ,cAAc1D,GAAG,SAAS2D,aAAclI,EAAUb,QAAQ,GAAG0H,IAAKrH,KAAK,MAC/EkF,SAAU,SAAAnH,GAAK,OAAIqK,EAAWO,cAAc,MAAO5K,EAAM4F,OAAOC,QAChEkB,WAAS,EAFjB,SAIQtE,EAAUb,QAAQI,KAAI,gBAAEsH,EAAF,EAAEA,IAAKrH,EAAP,EAAOA,KAAM0F,EAAb,EAAaA,KAAMxF,EAAnB,EAAmBA,OAAnB,OAClB,cAAC0I,GAAA,EAAD,CAAUhF,MAAOyD,EAAjB,mBAAoCrH,EAApC,YAA4C0F,EAA5C,mBAAsDxF,EAAtD,kBAA2BmH,WAK3C,cAACjL,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,EAAf,SACI,cAACkI,GAAA,EAAD,CAAWzD,MAAO,iCAASgE,SAAUkD,EAAWhC,aAAcpG,KAAK,SAASmF,KAAK,SACtEL,WAAS,MAExB,cAAC1I,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,EAAf,SACI,cAACkI,GAAA,EAAD,CACII,GAAG,OACH7D,MAAM,sEACNiE,KAAK,OACLD,SAAUkD,EAAWhC,aACrBsC,aAAc,KACd5D,WAAS,EACT+D,gBAAiB,CACbC,QAAQ,UAKxB,cAAC/M,EAAA,EAAD,CAAKsK,GAAI,EAAT,SACI,cAACjH,EAAA,EAAD,CACIrC,QAAQ,YACR4B,MAAM,UACNU,UAAW,cAAC,KAAD,IACX8F,KAAK,SAJT,sECpFH4D,GAAYzI,aAAS,WAC9B,OACI,cAAC,GAAD,CACIiG,SAAU,CAAC,mDAAW,iCAAQ,iCAAS,4BAD3C,SAGK/F,EAAUX,QAAQE,KAAI,SAACvD,GAAD,OACnB,eAACiK,GAAA,EAAD,WACI,cAACC,GAAA,EAAD,CAAW1K,UAAU,KAAKgN,MAAM,MAAhC,SACKxM,EAAKwD,OAEV,cAAC0G,GAAA,EAAD,UAAYlK,EAAK0D,SACjB,cAACwG,GAAA,EAAD,UAAYlK,EAAK0K,MACjB,cAACR,GAAA,EAAD,UAAY,IAAIS,KAAK3K,EAAKmJ,MAAMyB,yBANrB5K,EAAK6K,aCGvB4B,GAAW3I,aAAS,WAC7B,MAA2BqB,KAApBC,EAAP,EAAOA,QAASI,EAAhB,EAAgBA,QACT/G,EAASgD,qBAAWlD,GAApBE,MACDiO,EAAYjH,sBAAW,wBAAC,6BAAAE,EAAA,+EAEYH,EAAQ,eAAgB,MAAO,KAAM,CACnEgE,cAAc,UAAD,OAAY/K,KAHP,OAEhBuM,EAFgB,OAKtBtB,aAAY,WACR1F,EAAUX,QAAU2H,KANF,uGAU3B,CAACvM,EAAO+G,IAEXf,qBAAU,WACNiI,MACD,CAACA,IACJ,MAAoCrK,oBAAkB,GAAtD,mBAAO4I,EAAP,KAAmBC,EAAnB,KACA,OAAI9F,EAAgB,cAAC,EAAD,UAAY,cAAC,EAAD,MAE5B,eAAC,EAAD,WACI,cAAC7F,EAAA,EAAD,CAAKsK,GAAI,EAAT,SACI,eAACjK,EAAA,EAAD,CAAMC,WAAS,EAAC+I,UAAU,MAAMuC,eAAe,gBAAgBpL,WAAW,SAA1E,UACI,cAACO,EAAA,EAAD,CAAYC,QAAQ,KAAKf,UAAU,KAAnC,wDACA,cAACoD,EAAA,EAAD,CACIrC,QAAQ,YACR4B,MAAM,UACNU,UAAWoI,EAAa,cAAC,KAAD,IAAgB,cAAC,KAAD,IACxCtI,QAAS,kBAAMuI,GAAeD,IAJlC,SAMKA,EAAa,6CAAY,qGAIrCA,GAAc,cAACU,GAAD,IACf,cAACY,GAAD,UChBGI,GAvBH7I,aAAS,WACjB,M3BHmB,WAEnB,IAAMnF,EAAQ8G,uBAAY,SAACmH,EAAkBrE,GACzCsE,EAAUpO,MAAQmO,EAClBC,EAAUnO,OAAS6J,EACnBuE,aAAaC,QAAQ5N,EAAa4G,KAAKC,UAAU,CAC7CtH,OAAQ6J,EAAI9J,MAAOmO,OAExB,IACGhO,EAAS6G,uBAAY,WACvBoH,EAAUpO,MAAQ,KAClBoO,EAAUnO,OAAS,KACnBoO,aAAaE,WAAW7N,KACzB,IAYH,OAVAsF,qBAAU,WACN,IAAMwI,EAAQH,aAAaI,QAAQ/N,IAAgB,KAC7C4E,EAAOgC,KAAKoH,MAAMF,GACxB,GAAIlJ,GAAQA,EAAKtF,MAAO,CACpB,IAAMsF,EAAOgC,KAAKoH,MAAMF,GACxBtO,EAAMoF,EAAKtF,MAAOsF,EAAKrF,QAE3BmO,EAAU7N,OAAQ,IACnB,CAACL,IAEG,CAACA,QAAOC,U2BtBSwO,GAAjBzO,EAAP,EAAOA,MAAOC,EAAd,EAAcA,OACPH,EAAwBoO,EAAxBpO,MAAOO,EAAiB6N,EAAjB7N,MAAON,EAAUmO,EAAVnO,OACfG,IAAoBJ,EACpB4O,ECRe,SAACxO,GACtB,OAAIA,EAEI,eAAC,IAAD,WACI,cAAC,IAAD,CAAOyO,OAAK,EAACC,KAAM,IAAK/N,UAAW+E,KACnC,cAAC,IAAD,CAAO+I,OAAK,EAACC,KAAM,WAAY/N,UAAWsL,KAC1C,cAAC,IAAD,CAAOwC,OAAK,EAACC,KAAM,QAAS/N,UAAWkM,KACvC,cAAC,IAAD,CAAO4B,OAAK,EAACC,KAAM,QAAS/N,UAAWiN,KACvC,cAAC,IAAD,CAAU9M,GAAG,SAMrB,eAAC,IAAD,WACI,cAAC,IAAD,CAAO2N,OAAK,EAACC,KAAM,SAAU/N,UAAWqH,KACxC,cAAC,IAAD,CAAUlH,GAAG,cDRN6N,CAAU3O,GACzB,EAA2BsG,KACpBpG,GADP,EAAOqG,QAAP,EAAgBI,QEXO,WACvB,MAA8CL,KAA9BK,GAAhB,EAAOJ,QAAP,EAAgBI,SACT/G,GADP,EAAyB6G,MAAzB,EAAgCiB,WAChBsG,EAATpO,OAcP,MAAO,CAACM,YAZS,yCAAG,6BAAA4G,EAAA,+EAEsBH,EAAQ,mBAAoB,MAAO,KAAM,CACvEgE,cAAc,UAAD,OAAY/K,KAHjB,OAENuM,EAFM,OAKZtB,aAAY,WACR4B,QAAQC,IAAIP,GACZhH,EAAUb,QAAU6H,KAPZ,uGAAH,sDFQKyC,GAAf1O,aACP,OAAKC,EAID,cAACT,EAAYmP,SAAb,CAAsBtG,MAAO,CACzB3I,QAAOE,QAAOC,SAAQF,SAAQG,mBADlC,SAGI,cAACC,EAAe4O,SAAhB,CAAyBtG,MAAO,CAACrI,eAAjC,SACI,cAAC,IAAD,UACKsO,QARN,cAAC,EAAD,OGNAM,GAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,8BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCHdQ,IAASC,OAEL,cAAC,GAAD,IAEFC,SAASC,eAAe,SAG1BZ,O","file":"static/js/main.8f4d1b0b.chunk.js","sourcesContent":["import {createContext} from 'react'\r\n\r\nfunction noop() {}\r\n\r\ntype TypeContext = {\r\n    token: null | string\r\n    userId: null | string\r\n    login: (jwtToken: string, id: string) => void\r\n    logout: () => void\r\n    isAuthenticated: boolean\r\n}\r\n\r\nexport const AuthContext = createContext({\r\n    token: null,\r\n    userId: null,\r\n    login: noop,\r\n    logout: noop,\r\n    isAuthenticated: false\r\n} as TypeContext)\r\n","import {createContext} from 'react'\r\n\r\nfunction noop() {}\r\n\r\ntype TypeContext = {\r\n    loadingCorn: () => void\r\n}\r\nexport const RequestContext = createContext({\r\n    loadingCorn: noop\r\n} as TypeContext)\r\n","import {makeAutoObservable} from 'mobx'\r\n\r\nclass CornStore {\r\n\r\n    token:string | null = null\r\n    userId: string | null = null\r\n    ready: boolean = false\r\n\r\n    constructor() {\r\n        makeAutoObservable(this)\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default new CornStore()\r\n","import {useCallback, useEffect} from 'react'\r\nimport UserStore from '../store/UserStore'\r\n\r\nconst storageName: string = 'userData'\r\n\r\ntype StorageType = {\r\n    userId: string | null\r\n    token: string | null\r\n}\r\n\r\nexport const useAuth = () => {\r\n\r\n    const login = useCallback((jwtToken: string, id: string) => {\r\n        UserStore.token = jwtToken\r\n        UserStore.userId = id\r\n        localStorage.setItem(storageName, JSON.stringify({\r\n            userId: id, token: jwtToken\r\n        } as StorageType))\r\n    }, [])\r\n    const logout = useCallback(() => {\r\n        UserStore.token = null\r\n        UserStore.userId = null\r\n        localStorage.removeItem(storageName)\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        const local = localStorage.getItem(storageName) || '{}'\r\n        const data = JSON.parse(local)\r\n        if (data && data.token) {\r\n            const data = JSON.parse(local)\r\n            login(data.token, data.userId)\r\n        }\r\n        UserStore.ready = true\r\n    }, [login])\r\n\r\n    return {login, logout}\r\n}\r\n","import React from 'react'\r\n\r\nexport const Loader = () => {\r\n    return(\r\n        <div className=\"preloader-wrapper big active\">\r\n            <div className=\"spinner-layer spinner-blue\">\r\n                <div className=\"circle-clipper left\">\r\n                    <div className=\"circle\"></div>\r\n                </div>\r\n                <div className=\"gap-patch\">\r\n                    <div className=\"circle\"></div>\r\n                </div>\r\n                <div className=\"circle-clipper right\">\r\n                    <div className=\"circle\"></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/logo.863bdabf.png\";","import React from 'react'\r\nimport {Box, Grid, Typography} from '@material-ui/core'\r\nimport Avatar from '@material-ui/core/Avatar'\r\nimport logo from '../../../assets/images/logo.png'\r\nimport {Link} from 'react-router-dom'\r\n\r\nexport const Header = () => {\r\n    return (\r\n        <Box component='div' px={5} py={3}>\r\n            <Link to='/'>\r\n                <Grid container spacing={3} alignItems=\"center\">\r\n                    <Grid item xs={4}>\r\n                        <Avatar alt=\"Компания\" src={logo}/>\r\n                    </Grid>\r\n                    <Grid item xs={8}>\r\n                        <Typography variant=\"h5\" component=\"h5\">\r\n                            Компания\r\n                        </Typography>\r\n                    </Grid>\r\n                </Grid>\r\n            </Link>\r\n        </Box>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport {List, ListItem, ListItemIcon, ListItemText} from '@material-ui/core'\r\nimport {Link} from 'react-router-dom'\r\nimport ToysIcon from '@material-ui/icons/Toys'\r\nimport BugReportIcon from '@material-ui/icons/BugReport'\r\nimport MonetizationOnIcon from '@material-ui/icons/MonetizationOn'\r\n\r\nexport const MenuList = () => {\r\n    return(\r\n        <List>\r\n            <ListItem button component={Link} to={'/corn'}>\r\n                <ListItemIcon><ToysIcon/></ListItemIcon>\r\n                <ListItemText primary={'Зерно'}/>\r\n            </ListItem>\r\n            <ListItem button component={Link} to={'/poisons'}>\r\n                <ListItemIcon><BugReportIcon/></ListItemIcon>\r\n                <ListItemText primary={'Яды'}/>\r\n            </ListItem>\r\n\r\n            <ListItem button component={Link} to={'/sale'}>\r\n                <ListItemIcon><MonetizationOnIcon/></ListItemIcon>\r\n                <ListItemText primary={'Продажи'}/>\r\n            </ListItem>\r\n        </List>\r\n    )\r\n}\r\n","import React, {FC} from 'react'\r\nimport {Drawer} from '@material-ui/core'\r\nimport {Header} from './components/Header'\r\nimport {MenuList} from './components/MenuList'\r\n\r\ntype MyProps = {\r\n    openSidebar: boolean\r\n    setOpenSidebar: (x: boolean) => void\r\n}\r\n\r\n\r\nexport const Sidebar: FC<MyProps> = ({openSidebar, setOpenSidebar}) => {\r\n\r\n    const setState = (state: boolean) => (\r\n        event: React.KeyboardEvent | React.MouseEvent,\r\n    ) => {\r\n        setOpenSidebar(state)\r\n    }\r\n\r\n    return (\r\n        <Drawer open={openSidebar} onClose={setState(false)}>\r\n            <Header/>\r\n            <MenuList/>\r\n        </Drawer>\r\n    )\r\n}\r\n","import React, {FC, useContext, useState} from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport {AuthContext} from '../../context/AuthContext'\r\nimport {AppBar, Button, IconButton, Toolbar, Typography} from '@material-ui/core'\r\nimport MenuIcon from '@material-ui/icons/Menu'\r\nimport {createStyles, makeStyles, Theme} from '@material-ui/core/styles'\r\nimport {Sidebar} from '../Sidebar/Sidebar'\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp'\r\n\r\n\r\nexport const Header: FC = () => {\r\n    const auth = useContext(AuthContext)\r\n    const useStyles = makeStyles((theme: Theme) =>\r\n        createStyles({\r\n            root: {\r\n                flexGrow: 1,\r\n            },\r\n            menuButton: {\r\n                marginRight: theme.spacing(2),\r\n            },\r\n            title: {\r\n                flexGrow: 1,\r\n                color: '#fff'\r\n            },\r\n        }),\r\n    )\r\n    const classes = useStyles()\r\n    const [openSidebar, setOpenSidebar] = useState<boolean>(false)\r\n    return (\r\n        <>\r\n            <AppBar position=\"static\">\r\n                <Toolbar>\r\n                    <IconButton edge=\"start\" className={classes.menuButton} color=\"inherit\" aria-label=\"menu\" onClick={() => setOpenSidebar(!openSidebar)}>\r\n                        <MenuIcon/>\r\n                    </IconButton>\r\n                    <Typography component={Link} to={'/'} variant=\"h6\" className={classes.title}>\r\n                        Компания\r\n                    </Typography>\r\n                    <Button startIcon={<ExitToAppIcon/>} color=\"inherit\" onClick={() => auth.logout()}>Выйти</Button>\r\n                </Toolbar>\r\n            </AppBar>\r\n            <Sidebar openSidebar={openSidebar} setOpenSidebar={setOpenSidebar}/>\r\n        </>\r\n        // <div>\r\n        //     <nav className='light-blue lighten-5 black-text'>\r\n        //         <div className=\"nav-wrapper\">\r\n        //             <ul className=\"left hide-on-med-and-down\">\r\n        //                 <li><span onClick={() => setIsShow(!isShow)}><i className=\"material-icons\"\r\n        //                                                                 style={styleMenu}>menu</i></span></li>\r\n        //             </ul>\r\n        //             <ul className='right hide-on-med-and-down'>\r\n        //                 <li>\r\n        //                     <a href='#!' className='black-text' onClick={() => auth.logout()}>Выйти</a>\r\n        //                 </li>\r\n        //                 <li>\r\n        //                     <Link className='black-text' to='/add-corn'>Зерно</Link>\r\n        //                 </li>\r\n        //                 <li>\r\n        //                     <Link className='black-text' to='/poisons'>Яды</Link>\r\n        //                 </li>\r\n        //                 <li>\r\n        //                     <Link className='black-text' to='/add-sale'>Продажи</Link>\r\n        //                 </li>\r\n        //             </ul>\r\n        //         </div>\r\n        //     </nav>\r\n        // </div>\r\n\r\n\r\n    )\r\n}\r\n","import React, {FC} from 'react'\r\nimport {Header} from '../../containers/Header/Header'\r\n\r\nexport const MainLayout: FC = ({children}) => {\r\n    return (\r\n        <div>\r\n            <Header/>\r\n            <div className='container'>\r\n                {children}\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\n","import React, {FC} from 'react'\r\n\r\ntype TypeMyProps = {\r\n    text: string | null\r\n    col: number\r\n}\r\nexport const CardMetric:FC<TypeMyProps> = ({text, col, children}) => {\r\n    return (\r\n        <div className={`col s${col}`}>\r\n            <div className=\"card\">\r\n                <div className=\"card-image\">\r\n                    {children}\r\n                </div>\r\n                <div className=\"card-content\">\r\n                    {text && <p>{text}</p>}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import {makeAutoObservable} from 'mobx'\r\nimport {TypeCorn, TypePoisons, TypeSale} from '../types/types'\r\n\r\nclass CornStore {\r\n\r\n    allCorn:TypeCorn[] | [] = []\r\n    allPoisons: TypePoisons[] | [] = []\r\n    allSale: TypeSale[] | [] = []\r\n\r\n\r\n    constructor() {\r\n        makeAutoObservable(this)\r\n    }\r\n\r\n    getAllName = () => {\r\n        const result: Array<string> = this.allCorn.map(item => {\r\n            return item.name\r\n        })\r\n        return result\r\n    }\r\n\r\n    getAllWeight = () => {\r\n        const result: Array<number> = this.allCorn.map(item => {\r\n            return item.weight\r\n        })\r\n        return result\r\n    }\r\n\r\n    getAllColor = (index: number) => {\r\n        const result: Array<string> = this.allCorn.map(item => {\r\n            return item.color[index]\r\n        })\r\n        return result\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default new CornStore()\r\n","import React from 'react'\r\nimport {Pie} from 'react-chartjs-2/dist'\r\nimport {CardMetric} from './CardMetric/CardMetric'\r\nimport CornStore from '../store/CornStore'\r\nimport {observer} from 'mobx-react'\r\nimport {Link} from 'react-router-dom'\r\n\r\nexport const CornStatic = observer(() => {\r\n    const data = CornStore.allCorn.length ? {\r\n        labels: CornStore.getAllName(),\r\n        datasets: [\r\n            {\r\n                data: CornStore.getAllWeight(),\r\n                backgroundColor: CornStore.getAllColor(0),\r\n                borderColor: CornStore.getAllColor(1),\r\n                borderWidth: 1,\r\n            },\r\n        ],\r\n    } : {}\r\n    return (\r\n        <CardMetric\r\n            text={'Общее количество зерна'}\r\n            col={3}\r\n        >\r\n            {CornStore.allCorn.length ? (\r\n                <Pie\r\n                    data={data}\r\n                />\r\n            ) : (\r\n                <>\r\n                    <p>Для начала заполните данные</p>\r\n                    <Link to='/add-corn'>Заполнить</Link>\r\n                </>\r\n            )}\r\n\r\n        </CardMetric>\r\n    )\r\n})\r\n","import React, {useContext, useEffect} from 'react'\r\nimport {MainLayout} from '../layouts/MainLayout/MainLayout'\r\nimport {CardMetric} from '../components/CardMetric/CardMetric'\r\nimport {Bar, Line} from 'react-chartjs-2/dist'\r\nimport {observer} from 'mobx-react'\r\nimport {CornStatic} from '../components/CornStatic'\r\nimport {RequestContext} from '../context/RequestContext'\r\n\r\nexport const DashboardPage = observer(() => {\r\n    const req = useContext(RequestContext)\r\n    useEffect(() => {\r\n        req.loadingCorn()\r\n    }, [])\r\n\r\n    const allSale = {\r\n        labels: ['Январь', 'Февраль', 'Март', 'Апрель', 'Май', 'Июнь', 'Июль', 'Август', 'Сентябрь', 'Октрябрь', 'Ноябрь', 'Декабрь'],\r\n        datasets: [\r\n            {\r\n                label: 'Рожь',\r\n                data: [5, 19, 3, 5, 2, 3, 5, 9, 4, 6, 7, 15],\r\n                backgroundColor: 'rgba(255, 99, 132, 1)',\r\n            },\r\n            {\r\n                label: 'Пшеница',\r\n                data: [8, 15, 7, 5, 2, 5, 7, 9, 4, 6, 6, 10],\r\n                backgroundColor: 'rgba(54, 162, 235, 1)',\r\n            },\r\n            {\r\n                label: 'Ячмень',\r\n                data: [4, 11, 3, 5, 2, 4, 6, 9, 4, 7, 7, 11],\r\n                backgroundColor: 'rgba(255, 206, 86, 1)',\r\n            },\r\n        ],\r\n    }\r\n\r\n    const optionsAllSale = {\r\n        scales: {\r\n            yAxes: [\r\n                {\r\n                    stacked: true,\r\n                    ticks: {\r\n                        beginAtZero: true,\r\n                    },\r\n                },\r\n            ],\r\n            xAxes: [\r\n                {\r\n                    stacked: true,\r\n                },\r\n            ],\r\n        },\r\n    }\r\n\r\n    const harvesting = {\r\n        labels: ['Июнь', 'Июль', 'Август'],\r\n        datasets: [\r\n            {\r\n                label: 'ГА',\r\n                data: [200, 300, 250],\r\n                fill: false,\r\n                backgroundColor: 'rgb(255, 99, 132)',\r\n                borderColor: 'rgba(255, 99, 132, 0.2)',\r\n            },\r\n        ],\r\n    }\r\n\r\n    const optionsHarvesting = {\r\n        scales: {\r\n            yAxes: [\r\n                {\r\n                    ticks: {\r\n                        beginAtZero: true,\r\n                    },\r\n                },\r\n            ],\r\n        },\r\n    }\r\n\r\n    return (\r\n        <MainLayout>\r\n            <h2>Панель приборов</h2>\r\n            <div className='row'>\r\n                <CornStatic/>\r\n                <CardMetric\r\n                    text={'Продажи по месяцам'}\r\n                    col={6}\r\n                >\r\n                    <Bar\r\n                        data={allSale}\r\n                        options={optionsAllSale}\r\n                    />\r\n                </CardMetric>\r\n                <CardMetric text={'Уборка ГА за месяц'} col={3}>\r\n                    <Line data={harvesting} options={optionsHarvesting}/>\r\n                </CardMetric>\r\n            </div>\r\n        </MainLayout>\r\n    )\r\n})\r\n","import {useCallback, useState} from 'react'\r\n\r\nexport const useHttp = () => {\r\n    const [loading, setLoading] = useState<boolean>(false)\r\n    const [error, setError] = useState<boolean | null>(null)\r\n\r\n    const request = useCallback(async (url: string, method: string = 'GET', body = null, headers: any = {}) => {\r\n        setLoading(true)\r\n        try {\r\n            if (body) {\r\n                body = JSON.stringify(body)\r\n                headers['Content-Type'] = 'application/json'\r\n            }\r\n\r\n            const response = await fetch(url, {method, body, headers})\r\n            const data = await response.json()\r\n\r\n            if (!response.ok) {\r\n                throw new Error(data.message || 'Что-то пошло не так')\r\n            }\r\n            setLoading(false)\r\n            return data\r\n        } catch (e) {\r\n            setLoading(false)\r\n            setError(e.message)\r\n            throw e\r\n        }\r\n    }, [])\r\n\r\n    const clearError = useCallback(() => setError(null), [])\r\n\r\n    return {loading, request, error, clearError}\r\n}\r\n","import {useCallback} from 'react'\r\n\r\nexport const useMessage = () => {\r\n    return useCallback(text => {\r\n        // @ts-ignore\r\n        if (window.M && text) {\r\n            // @ts-ignore\r\n            window.M.toast({html: text})\r\n        }\r\n    }, [])\r\n}\r\n","export default __webpack_public_path__ + \"static/media/bg.e0d949e1.jpg\";","import React, {useContext, useEffect, useState} from 'react'\r\nimport {useHttp} from '../../hooks/http.hook'\r\nimport {AuthContext} from '../../context/AuthContext'\r\nimport {useMessage} from '../../hooks/message.hook'\r\nimport {Button, Container, Grid, TextField, Typography} from '@material-ui/core'\r\nimport bg from './images/bg.jpg'\r\n\r\ntype FormType = {\r\n    email: string\r\n    password: string\r\n}\r\n\r\nexport const AuthPage = () => {\r\n    const [form, setForm] = useState<FormType>({\r\n        email: '',\r\n        password: ''\r\n    })\r\n\r\n    const message = useMessage()\r\n\r\n    const changeHandler = (event: React.ChangeEvent<HTMLTextAreaElement | HTMLInputElement>) => {\r\n        setForm({...form, [event.target.name]: event.target.value})\r\n    }\r\n    const auth = useContext(AuthContext)\r\n    const {loading, request, error, clearError} = useHttp()\r\n    const registerHandler = async () => {\r\n        try {\r\n            const data = await request('/api/auth/register', 'POST', {...form})\r\n            message(data.message)\r\n        } catch (e) {\r\n\r\n        }\r\n    }\r\n\r\n    const loginHandler = async () => {\r\n        try {\r\n            const data = await request('/api/auth/login', 'POST', {...form})\r\n            auth.login(data.token, data.userId)\r\n        } catch (e) {\r\n\r\n        }\r\n    }\r\n    useEffect(() => {\r\n        message(error)\r\n        clearError()\r\n    }, [error, message, clearError])\r\n    const style = {\r\n        bg: {\r\n            backgroundImage: `url(${bg})`,\r\n            height: '100vh',\r\n            backgroundPosition: 'center',\r\n            backgroundRepeat: 'no-repeat',\r\n            backgroundSize: 'cover',\r\n        },\r\n        form: {\r\n            backgroundColor: 'rgba(255, 255, 255, .9)',\r\n            borderRadius: 10,\r\n            paddingTop: 10,\r\n            paddingBottom: 20\r\n        }\r\n    }\r\n    return (\r\n        <Grid style={style.bg} container alignItems=\"center\">\r\n            <Container maxWidth=\"xs\" style={style.form}>\r\n                <Typography component=\"h1\" variant=\"h5\">\r\n                    Добро пожаловать 👋\r\n                </Typography>\r\n                <TextField\r\n                    variant=\"outlined\"\r\n                    margin=\"normal\"\r\n                    required\r\n                    fullWidth\r\n                    id=\"email\"\r\n                    label=\"Почта\"\r\n                    name=\"email\"\r\n                    autoComplete=\"email\"\r\n                    autoFocus\r\n                    onChange={(event) => changeHandler(event)}\r\n                />\r\n                <TextField\r\n                    variant=\"outlined\"\r\n                    margin=\"normal\"\r\n                    required\r\n                    fullWidth\r\n                    name=\"password\"\r\n                    label=\"Пароль\"\r\n                    type=\"password\"\r\n                    id=\"password\"\r\n                    autoComplete=\"current-password\"\r\n                    onChange={(event) => changeHandler(event)}\r\n                />\r\n                <Grid container spacing={1} direction=\"column\">\r\n                    <Grid item>\r\n                        <Button\r\n                            type=\"submit\"\r\n                            fullWidth\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            onClick={loginHandler}\r\n                            disabled={loading}\r\n                        >\r\n                            Войти\r\n                        </Button>\r\n                    </Grid>\r\n                    <Grid item>\r\n                        <Button\r\n                            type=\"submit\"\r\n                            fullWidth\r\n                            variant=\"outlined\"\r\n                            color=\"secondary\"\r\n                            onClick={registerHandler}\r\n                            disabled={loading}\r\n                        >\r\n                            Зарегистрироваться\r\n                        </Button>\r\n                    </Grid>\r\n                </Grid>\r\n            </Container>\r\n        </Grid>\r\n    )\r\n}\r\n","import React, {FC, useContext} from 'react'\r\nimport {useHttp} from '../../hooks/http.hook'\r\nimport {AuthContext} from '../../context/AuthContext'\r\nimport {useFormik} from 'formik'\r\nimport {Loader} from '../Loader/Loader'\r\nimport {useMessage} from '../../hooks/message.hook'\r\nimport CornStore from '../../store/CornStore'\r\nimport {runInAction} from 'mobx'\r\nimport {Box, Button, Grid, TextField} from '@material-ui/core'\r\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload'\r\n\r\ntype TypeForm = {\r\n    name: string\r\n    weight: number\r\n    cost: number\r\n    date: Date | null\r\n}\r\n\r\nexport const AddPoisons: FC = () => {\r\n    const message = useMessage()\r\n    const poisonsFormik = useFormik<TypeForm>({\r\n        initialValues: {\r\n            name: '',\r\n            weight: 0,\r\n            cost: 0,\r\n            date: null\r\n        },\r\n        onSubmit: async (values) => {\r\n            await addHandler(values)\r\n            poisonsFormik.resetForm()\r\n        }\r\n    })\r\n    const auth = useContext(AuthContext)\r\n    const {loading, request} = useHttp()\r\n    const addHandler = async (values: TypeForm) => {\r\n        try {\r\n            const data = await request('/api/poisons/add', 'POST', {...values}, {\r\n                Authorization: `Bearer: ${auth.token}`\r\n            })\r\n            const {poison} = data\r\n            runInAction(() => {\r\n                CornStore.allPoisons = [...CornStore.allPoisons, ...[poison]]\r\n            })\r\n            message('Добавлено')\r\n        } catch (e) {\r\n\r\n        }\r\n    }\r\n    if (loading) {\r\n        return <Loader/>\r\n    }\r\n    return (\r\n        <form onSubmit={poisonsFormik.handleSubmit}>\r\n            <Grid container spacing={5}>\r\n                <Grid item xs={4}>\r\n                    <TextField label={'Название яда'} onChange={poisonsFormik.handleChange} name='name' type=\"text\"\r\n                               fullWidth/>\r\n                </Grid>\r\n                <Grid item xs={4}>\r\n                    <TextField label={'Объем(кг)'} onChange={poisonsFormik.handleChange} name='weight' type=\"number\"\r\n                               fullWidth/>\r\n                </Grid>\r\n                <Grid item xs={4}>\r\n                    <TextField label={'Цена(руб)'} onChange={poisonsFormik.handleChange} name='cost' type=\"number\"\r\n                               fullWidth/>\r\n                </Grid>\r\n            </Grid>\r\n            <Box my={3}>\r\n                <Button\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    startIcon={<CloudUploadIcon/>}\r\n                    type=\"submit\"\r\n                >\r\n                    Добавить\r\n                </Button>\r\n            </Box>\r\n        </form>\r\n    )\r\n}\r\n","import React, {FC} from 'react'\r\nimport {TableCell, TableHead, TableRow} from '@material-ui/core/'\r\n\r\ntype MyProps = {\r\n    headData: string[]\r\n}\r\n\r\nexport const MyTableHead:FC<MyProps> = ({headData}) => {\r\n    return (\r\n        <TableHead>\r\n            <TableRow>\r\n                {\r\n                    headData.map((text, index) =>\r\n                        <TableCell key={index}>{text}</TableCell>\r\n                    )\r\n                }\r\n            </TableRow>\r\n        </TableHead>\r\n    )\r\n}\r\n","import React, {FC} from 'react'\r\nimport {MyTableHead} from './components/MyTableHead'\r\nimport {Paper, Table, TableBody, TableContainer} from '@material-ui/core'\r\n\r\ntype MyProps = {\r\n    headData: string[]\r\n}\r\n\r\nexport const MyTable: FC<MyProps> = ({headData, children}) => {\r\n    return (\r\n        <TableContainer component={Paper}>\r\n            <Table size=\"small\" aria-label=\"a dense table\">\r\n                <MyTableHead\r\n                    headData={headData}\r\n                />\r\n                <TableBody>\r\n                    {children}\r\n                </TableBody>\r\n            </Table>\r\n        </TableContainer>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport CornStore from '../store/CornStore'\r\nimport {observer} from 'mobx-react'\r\nimport {runInAction, toJS} from 'mobx'\r\nimport {TableCell, TableRow} from '@material-ui/core'\r\nimport {MyTable} from './Table/MyTable'\r\n\r\n\r\nexport const PoisonsTable = observer(() => {\r\n    // FIXME подумать над дублированием и убрать any\r\n    const sortBy = (name: string) => {\r\n        runInAction(() => {\r\n            CornStore.allPoisons.sort((a: any, b: any) => a[name] < b[name] ? 1 : -1)\r\n        })\r\n    }\r\n    const sortByName = () => {\r\n        console.log(toJS(CornStore.allPoisons))\r\n        runInAction(() => {\r\n            CornStore.allPoisons.sort((a: any, b: any) => (a.name > b.name) ? 1 : ((b.name > a.name) ? -1 : 0))\r\n        })\r\n    }\r\n    if (!CornStore.allPoisons.length) {\r\n        return (\r\n            <p>Пусто</p>\r\n        )\r\n    }\r\n    return (\r\n        <MyTable\r\n            headData={['Название', 'Объем(кг)', 'Цена(руб)', 'Стоимость(кг/р)', 'Дата']}\r\n        >\r\n            {CornStore.allPoisons.map((item) => (\r\n                <TableRow key={item._id}>\r\n                    <TableCell>{item.name}</TableCell>\r\n                    <TableCell>{item.weight}</TableCell>\r\n                    <TableCell>{item.cost}</TableCell>\r\n                    <TableCell>{item.sum}</TableCell>\r\n                    <TableCell>{new Date(item.date).toLocaleDateString()}</TableCell>\r\n                </TableRow>\r\n            ))}\r\n        </MyTable>\r\n    )\r\n})\r\n","import React, {useCallback, useContext, useEffect, useState} from 'react'\r\nimport {MainLayout} from '../layouts/MainLayout/MainLayout'\r\nimport {useHttp} from '../hooks/http.hook'\r\nimport {AuthContext} from '../context/AuthContext'\r\nimport {Loader} from '../components/Loader/Loader'\r\nimport {AddPoisons} from '../components/AddPoisons/AddPoisons'\r\nimport {PoisonsTable} from '../components/PoisonsTable'\r\nimport {TypePoisons} from '../types/types'\r\nimport CornStore from '../store/CornStore'\r\nimport {observer} from 'mobx-react'\r\nimport {runInAction} from 'mobx'\r\nimport {Box, Button, Grid, Typography} from '@material-ui/core'\r\nimport RemoveIcon from '@material-ui/icons/Remove'\r\nimport AddCircleIcon from '@material-ui/icons/AddCircle'\r\n\r\n\r\nexport const PoisonsPage = observer(() => {\r\n    const {loading, request} = useHttp()\r\n    const {token} = useContext(AuthContext)\r\n    const fetchPoisons = useCallback(async () => {\r\n        try {\r\n            const fetched: TypePoisons[] = await request('api/poisons/getList', 'GET', null, {\r\n                Authorization: `Bearer ${token}`\r\n            })\r\n            runInAction(() => {\r\n                CornStore.allPoisons = fetched\r\n            })\r\n        } catch (e) {\r\n        }\r\n    }, [token, request])\r\n\r\n    useEffect(() => {\r\n        fetchPoisons()\r\n    }, [fetchPoisons])\r\n\r\n    const [isShowForm, setIsShowForm] = useState<boolean>(false)\r\n\r\n    if (loading) {\r\n        return <MainLayout><Loader/></MainLayout>\r\n    }\r\n    return (\r\n        <MainLayout>\r\n            <Box my={5}>\r\n                <Grid container direction=\"row\" justifyContent=\"space-between\" alignItems=\"center\">\r\n                    <Typography variant=\"h2\" component=\"h1\">Яды</Typography>\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        startIcon={isShowForm ? <RemoveIcon/> : <AddCircleIcon/>}\r\n                        onClick={() => setIsShowForm(!isShowForm)}\r\n                    >\r\n                        {isShowForm ? 'Закрыть' : 'Добавить яд'}\r\n                    </Button>\r\n                </Grid>\r\n            </Box>\r\n            {isShowForm && <AddPoisons/>}\r\n            <PoisonsTable/>\r\n        </MainLayout>\r\n    )\r\n})\r\n","import React, {useContext} from 'react'\r\nimport {useFormik} from 'formik'\r\nimport {AuthContext} from '../context/AuthContext'\r\nimport {useHttp} from '../hooks/http.hook'\r\nimport {Loader} from './Loader/Loader'\r\nimport {useMessage} from '../hooks/message.hook'\r\nimport CornStore from '../store/CornStore'\r\nimport {runInAction} from 'mobx'\r\nimport {Box, Button, Grid, TextField} from '@material-ui/core'\r\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload'\r\n\r\ntype TypeForm = {\r\n    name: string\r\n    weight: number\r\n    cost: number\r\n}\r\n\r\nexport const AddCorn = () => {\r\n    const message = useMessage()\r\n    const cornFormik = useFormik<TypeForm>({\r\n        initialValues: {\r\n            name: '',\r\n            weight: 0,\r\n            cost: 0\r\n        },\r\n        onSubmit: async (values) => {\r\n            console.log(values)\r\n            addHandler(values)\r\n\r\n        }\r\n    })\r\n    const auth = useContext(AuthContext)\r\n    const {loading, request} = useHttp()\r\n    const addHandler = async (values: TypeForm) => {\r\n        try {\r\n            const data = await request('/api/corn/addCorn', 'POST', {...values}, {\r\n                Authorization: `Bearer: ${auth.token}`\r\n            })\r\n            const {corn} = data\r\n            runInAction(() => {\r\n                CornStore.allCorn = [...CornStore.allCorn, ...[corn]]\r\n            })\r\n            message('Добавлено')\r\n        } catch (e) {\r\n\r\n        }\r\n    }\r\n    if (loading) {\r\n        return <Loader/>\r\n    }\r\n    return (\r\n        <form onSubmit={cornFormik.handleSubmit}>\r\n            <Grid container spacing={5}>\r\n                <Grid item xs={4}>\r\n                    <TextField label={'Название зерна'} onChange={cornFormik.handleChange} name='name' type=\"text\"\r\n                               fullWidth/>\r\n                </Grid>\r\n                <Grid item xs={4}>\r\n                    <TextField label={'Объем'} onChange={cornFormik.handleChange} name='weight' type=\"number\"\r\n                               fullWidth/>\r\n                </Grid>\r\n                <Grid item xs={4}>\r\n                    <TextField label={'Стоимость'} onChange={cornFormik.handleChange} name='cost' type=\"number\"\r\n                               fullWidth/>\r\n                </Grid>\r\n            </Grid>\r\n            <Box my={3}>\r\n                <Button\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    startIcon={<CloudUploadIcon/>}\r\n                    type=\"submit\"\r\n                >\r\n                    Добавить\r\n                </Button>\r\n            </Box>\r\n        </form>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport CornStore from '../store/CornStore'\r\nimport {observer} from 'mobx-react'\r\nimport {runInAction} from 'mobx'\r\nimport {TableCell, TableRow} from '@material-ui/core'\r\nimport {MyTable} from './Table/MyTable'\r\n\r\nexport const CornTable = observer(() => {\r\n    const sortBy = (name: string) => {\r\n        console.log(name)\r\n        runInAction(() => {\r\n            CornStore.allCorn.sort((a: any, b: any) => a[name] < b[name] ? 1 : -1)\r\n        })\r\n    }\r\n    const sortByName = () => {\r\n        runInAction(() => {\r\n            CornStore.allCorn.sort((a: any, b: any) => (a.name > b.name) ? 1 : ((b.name > a.name) ? -1 : 0))\r\n        })\r\n    }\r\n    if (!CornStore.allCorn.length) {\r\n        return <p>Пусто</p>\r\n    }\r\n    return (\r\n        <MyTable\r\n            headData={['Название','Объем','Стоимость']}\r\n        >\r\n            {CornStore.allCorn.map((item, index) => (\r\n                <TableRow key={index}>\r\n                    <TableCell>{item.name}</TableCell>\r\n                    <TableCell>{item.weight}</TableCell>\r\n                    <TableCell>{item.cost}</TableCell>\r\n                </TableRow>\r\n            ))}\r\n        </MyTable>\r\n    )\r\n})\r\n","import React, {useState} from 'react'\r\nimport {MainLayout} from '../layouts/MainLayout/MainLayout'\r\nimport {AddCorn} from '../components/AddCorn'\r\nimport {CornTable} from '../components/CornTable'\r\nimport {Box, Button, Grid, Typography} from '@material-ui/core'\r\nimport AddCircleIcon from '@material-ui/icons/AddCircle'\r\nimport RemoveIcon from '@material-ui/icons/Remove'\r\nimport {observer} from 'mobx-react'\r\n\r\nexport const CornPage = observer(() => {\r\n    const [isShowForm, setIsShowForm] = useState<boolean>(false)\r\n    return (\r\n        <MainLayout>\r\n            <Box my={5}>\r\n                <Grid container direction=\"row\" justifyContent=\"space-between\" alignItems=\"center\">\r\n                    <Typography variant=\"h2\" component=\"h1\">Зерно</Typography>\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        startIcon={isShowForm ? <RemoveIcon/> : <AddCircleIcon/>}\r\n                        onClick={() => setIsShowForm(!isShowForm)}\r\n                    >\r\n                        {isShowForm ? 'Закрыть' : 'Добавить культуру'}\r\n                    </Button>\r\n                </Grid>\r\n            </Box>\r\n\r\n            {isShowForm && <AddCorn/>}\r\n            <CornTable/>\r\n        </MainLayout>\r\n    )\r\n})\r\n","import React, {useContext} from 'react'\r\nimport {useMessage} from '../hooks/message.hook'\r\nimport {useFormik} from 'formik'\r\nimport {AuthContext} from '../context/AuthContext'\r\nimport {useHttp} from '../hooks/http.hook'\r\nimport {runInAction, toJS} from 'mobx'\r\nimport CornStore from '../store/CornStore'\r\nimport {Loader} from './Loader/Loader'\r\nimport {observer} from 'mobx-react'\r\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload'\r\nimport {Box, Button, Grid, InputLabel, MenuItem, Select, TextField} from '@material-ui/core'\r\nimport {RequestContext} from '../context/RequestContext'\r\n\r\n\r\ntype TypeForm = {\r\n    _id: string\r\n    weight: number\r\n    date: Date | null\r\n}\r\n\r\nexport const AddSale = observer(() => {\r\n    const req = useContext(RequestContext)\r\n    const message = useMessage()\r\n    const saleFormik = useFormik<TypeForm>({\r\n        initialValues: {\r\n            _id: CornStore.allCorn[0]._id,\r\n            weight: 0,\r\n            date: null\r\n        },\r\n        onSubmit: async (values) => {\r\n            await addHandler(values)\r\n            req.loadingCorn()\r\n        }\r\n    })\r\n    const auth = useContext(AuthContext)\r\n    const {loading, request} = useHttp()\r\n    const addHandler = async (values: TypeForm) => {\r\n        try {\r\n            const data = await request('/api/sale/add', 'POST', {...values}, {\r\n                Authorization: `Bearer: ${auth.token}`\r\n            })\r\n            const {sale} = data\r\n            runInAction(() => {\r\n                console.log(toJS(CornStore.allSale))\r\n                CornStore.allSale = [...CornStore.allSale, ...[sale]]\r\n                console.log(toJS(CornStore.allSale))\r\n            })\r\n            message(data.message)\r\n        } catch (e) {\r\n            console.log(e)\r\n            message(e.message)\r\n        }\r\n    }\r\n    if (loading) {\r\n        return <Loader/>\r\n    }\r\n    return (\r\n        <form onSubmit={saleFormik.handleSubmit}>\r\n            <Grid container spacing={5}>\r\n                <Grid item xs={4}>\r\n                    <InputLabel id=\"selectLabel\">Выберите зерно</InputLabel>\r\n                    <Select labelId=\"selectLabel\" id=\"select\" defaultValue={CornStore.allCorn[0]._id} name='_id'\r\n                            onChange={event => saleFormik.setFieldValue('_id', event.target.value)}\r\n                            fullWidth>\r\n                        {\r\n                            CornStore.allCorn.map(({_id, name, cost, weight}) =>\r\n                                <MenuItem value={_id} key={_id}>{`${name}(${cost}₽, ${weight}кг)`}</MenuItem>\r\n                            )\r\n                        }\r\n                    </Select>\r\n                </Grid>\r\n                <Grid item xs={4}>\r\n                    <TextField label={'Объем'} onChange={saleFormik.handleChange} name='weight' type=\"number\"\r\n                               fullWidth/>\r\n                </Grid>\r\n                <Grid item xs={4}>\r\n                    <TextField\r\n                        id=\"date\"\r\n                        label=\"Дата продажи\"\r\n                        type=\"date\"\r\n                        onChange={saleFormik.handleChange}\r\n                        defaultValue={null}\r\n                        fullWidth\r\n                        InputLabelProps={{\r\n                            shrink: true,\r\n                        }}\r\n                    />\r\n                </Grid>\r\n            </Grid>\r\n            <Box my={3}>\r\n                <Button\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    startIcon={<CloudUploadIcon/>}\r\n                    type=\"submit\"\r\n                >\r\n                    Добавить\r\n                </Button>\r\n            </Box>\r\n        </form>\r\n    )\r\n})\r\n","import React from 'react'\r\nimport CornStore from '../store/CornStore'\r\nimport {observer} from 'mobx-react'\r\nimport {TableCell, TableRow} from '@material-ui/core'\r\nimport {MyTable} from './Table/MyTable'\r\n\r\nexport const SaleTable = observer(() => {\r\n    return(\r\n        <MyTable\r\n            headData={['Название','Объем','Сумма', 'Дата']}\r\n        >\r\n            {CornStore.allSale.map((item) => (\r\n                <TableRow key={item._id}>\r\n                    <TableCell component=\"th\" scope=\"row\">\r\n                        {item.name}\r\n                    </TableCell>\r\n                    <TableCell>{item.weight}</TableCell>\r\n                    <TableCell>{item.sum}</TableCell>\r\n                    <TableCell>{new Date(item.date).toLocaleDateString()}</TableCell>\r\n                </TableRow>\r\n            ))}\r\n        </MyTable>\r\n    )\r\n})\r\n","import React, {useCallback, useContext, useEffect, useState} from 'react'\r\nimport {MainLayout} from '../layouts/MainLayout/MainLayout'\r\nimport {AddSale} from '../components/AddSale'\r\nimport {SaleTable} from '../components/SaleTable'\r\nimport {useHttp} from '../hooks/http.hook'\r\nimport {AuthContext} from '../context/AuthContext'\r\nimport {TypeSale} from '../types/types'\r\nimport {runInAction} from 'mobx'\r\nimport CornStore from '../store/CornStore'\r\nimport {Loader} from '../components/Loader/Loader'\r\nimport {observer} from 'mobx-react'\r\nimport {Box, Button, Grid, Typography} from '@material-ui/core'\r\nimport RemoveIcon from '@material-ui/icons/Remove'\r\nimport AddCircleIcon from '@material-ui/icons/AddCircle'\r\n\r\nexport const SalePage = observer(() => {\r\n    const {loading, request} = useHttp()\r\n    const {token} = useContext(AuthContext)\r\n    const fetchSale = useCallback(async () => {\r\n        try {\r\n            const fetched: TypeSale[] = await request('api/sale/get', 'GET', null, {\r\n                Authorization: `Bearer ${token}`\r\n            })\r\n            runInAction(() => {\r\n                CornStore.allSale = fetched\r\n            })\r\n        } catch (e) {\r\n        }\r\n    }, [token, request])\r\n\r\n    useEffect(() => {\r\n        fetchSale()\r\n    }, [fetchSale])\r\n    const [isShowForm, setIsShowForm] = useState<boolean>(false)\r\n    if (loading) return <MainLayout><Loader/></MainLayout>\r\n    return(\r\n        <MainLayout>\r\n            <Box my={5}>\r\n                <Grid container direction=\"row\" justifyContent=\"space-between\" alignItems=\"center\">\r\n                    <Typography variant=\"h2\" component=\"h1\">Продажи</Typography>\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        startIcon={isShowForm ? <RemoveIcon/> : <AddCircleIcon/>}\r\n                        onClick={() => setIsShowForm(!isShowForm)}\r\n                    >\r\n                        {isShowForm ? 'Закрыть' : 'Добавить продажу'}\r\n                    </Button>\r\n                </Grid>\r\n            </Box>\r\n            {isShowForm && <AddSale/>}\r\n            <SaleTable/>\r\n        </MainLayout>\r\n    )\r\n})\r\n","import React from 'react'\r\nimport {BrowserRouter as Router} from 'react-router-dom'\r\nimport {AuthContext} from './context/AuthContext'\r\nimport {RequestContext} from './context/RequestContext'\r\nimport {useAuth} from './hooks/auth.hook.js'\r\nimport {Loader} from './components/Loader/Loader'\r\nimport {useRoutes} from './routes'\r\nimport UserStore from './store/UserStore'\r\nimport {useHttp} from './hooks/http.hook'\r\nimport {observer} from 'mobx-react'\r\nimport {MainRequest} from './request/MainRequests'\r\n\r\nconst App = observer(() => {\r\n    const {login, logout} = useAuth()\r\n    const {token, ready, userId} = UserStore\r\n    const isAuthenticated = !!token\r\n    const routes = useRoutes(isAuthenticated)\r\n    const {loading, request} = useHttp()\r\n    const {loadingCorn} = MainRequest()\r\n    if (!ready) {\r\n        return <Loader/>\r\n    }\r\n    return (\r\n        <AuthContext.Provider value={{\r\n            token, login, logout, userId, isAuthenticated\r\n        }}>\r\n            <RequestContext.Provider value={{loadingCorn}}>\r\n                <Router>\r\n                    {routes}\r\n                </Router>\r\n            </RequestContext.Provider>\r\n        </AuthContext.Provider>\r\n    )\r\n})\r\n\r\nexport default App\r\n","import React from 'react'\r\nimport {Redirect, Route, Switch} from 'react-router-dom'\r\nimport {DashboardPage} from './pages/DashboardPage'\r\nimport {AuthPage} from './pages/AuthPage/AuthPage'\r\nimport {PoisonsPage} from './pages/PoisonsPage'\r\nimport {CornPage} from './pages/CornPage'\r\nimport {SalePage} from './pages/SalePage'\r\n\r\nexport const useRoutes = (isAuthenticated: boolean) => {\r\n    if (isAuthenticated) {\r\n        return (\r\n            <Switch>\r\n                <Route exact path={'/'} component={DashboardPage}/>\r\n                <Route exact path={'/poisons'} component={PoisonsPage}/>\r\n                <Route exact path={'/corn'} component={CornPage}/>\r\n                <Route exact path={'/sale'} component={SalePage}/>\r\n                <Redirect to='/'/>\r\n            </Switch>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Switch>\r\n            <Route exact path={'/login'} component={AuthPage}/>\r\n            <Redirect to='/login'/>\r\n        </Switch>\r\n    )\r\n}\r\n","import {TypeCorn} from '../types/types'\r\nimport {runInAction} from 'mobx'\r\nimport CornStore from '../store/CornStore'\r\nimport {useHttp} from '../hooks/http.hook'\r\nimport UserStore from '../store/UserStore'\r\n\r\nexport const MainRequest = () => {\r\n    const {loading, request, error, clearError} = useHttp()\r\n    const {token} = UserStore\r\n\r\n    const loadingCorn = async () => {\r\n        try {\r\n            const fetched: TypeCorn[] = await request('api/corn/getList', 'GET', null, {\r\n                Authorization: `Bearer ${token}`\r\n            })\r\n            runInAction(() => {\r\n                console.log(fetched)\r\n                CornStore.allCorn = fetched\r\n            })\r\n        } catch (e) {\r\n        }\r\n    }\r\n    return {loadingCorn}\r\n}\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.css'\r\nimport App from './App'\r\nimport reportWebVitals from './reportWebVitals'\r\n\r\nReactDOM.render(\r\n  // <React.StrictMode>\r\n    <App />,\r\n  // </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\nreportWebVitals();\r\n"],"sourceRoot":""}